Sjasm Z80 Assembler v0.42b8 - www.xl2s.tk             [2019.03.04 - 22:18:31]

src\main48.asm
Errors: 0

       1   00:0000                      ; -----------------------------
       2   00:0000                      ; 8 directions smooth scroller engine
       3   00:0000                      ; ------------------------------
       4   00:0000                      
       5   00:0000                      ; ------------
       6   00:0000                      ; macros
       7   00:0000                      ;
       8   00:0000                      	macro _setVdp register,value       ; without DI/EI
       9   00:0000                    < 	ld  a,value
      10   00:0000                    < 	out (0x99),a
      11   00:0000                    < 	ld  a,register + 0x80
      12   00:0000                    < 	out (0x99),a
      13   00:0000                    < 	endmacro
      14   00:0000                      
      15   00:0000                      	macro setVdp register,value       ; macro definition
      16   00:0000                    < 	di
      17   00:0000                    < 	_setVdp register,value
      18   00:0000                    < 	ei
      19   00:0000                    < 	endmacro
      20   00:0000                      
      21   00:0000                      	macro _setvdpwvram value
      22   00:0000                    < 	if (value & 0xFF)
      23   00:0000                    < 		ld  a,value & 0xFF
      24   00:0000                    < 	else
      25   00:0000                    < 		xor a
      26   00:0000                    < 	endif
      27   00:0000                    < 	out (0x99),a
      28   00:0000                    < 	ld  a,0x40 + (value/256)
      29   00:0000                    < 	out (0x99),a
      30   00:0000                    < 	endmacro
      31   00:0000                      
      32   00:0000                      	macro setvdpwvram value
      33   00:0000                    < 	di
      34   00:0000                    < 	_setvdpwvram value
      35   00:0000                    < 	ei
      36   00:0000                    < 	endmacro
      37   00:0000                      
      38   00:0000                      
      39   00:0000                      	output Scrll8way.rom
      40   00:0000                      
      41   00:0000                      	incdir data_bin/
      42   00:0000                      	incdir data_miz/
      43   00:0000                      	incdir src/
      44   00:0000                      
      45   00:0000                      	defpage 0,0x0000,0x4000
      46   00:0000                      	defpage 1,0x4000,0x8000
      47   00:0000                      
      48   00:0000  (00)                	page 0
      49   00:0000                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      50   00:0000                      ; Interrupt service routine
      51   00:0000                      ;
      52   00:0000                      	code @ 0x0038
      53   00:0038                      
      54   00:0038  E5                  	push   hl
      55   00:0039  D5                  	push   de
      56   00:003A  C5                  	push   bc
      57   00:003B  F5                  	push   af
      58   00:003C  D9                  	exx
      59   00:003D  08                  	ex     af,af'
      60   00:003E  E5                  	push   hl
      61   00:003F  D5                  	push   de
      62   00:0040  C5                  	push   bc
      63   00:0041  F5                  	push   af
      64   00:0042  FD E5               	push   iy
      65   00:0044  DD E5               	push   ix
      66   00:0046                      
      67   00:0046                      	_setVdp 0,0x00  ; 	screen 1
      67   00:0046  3E 00             >  ld  a,value
      67   00:0048  D3 99             >  out (0x99),a
      67   00:004A  3E 80             >  ld  a,register + 0x80
      67   00:004C  D3 99             >  out (0x99),a
      68   00:004E                      
      69   00:004E                      	_setVdp 4,0x03  ; 	PGT at 1800h (used from 0x1C00 to 0x1FFF, only 128 characters)
      69   00:004E  3E 03             >  ld  a,value
      69   00:0050  D3 99             >  out (0x99),a
      69   00:0052  3E 84             >  ld  a,register + 0x80
      69   00:0054  D3 99             >  out (0x99),a
      70   00:0056                      	_setVdp 3,0x6F  ; 	PCT at 1BC0h (used from 0x1BD0 to 0x1BDF, only 16 bytes)
      70   00:0056  3E 6F             >  ld  a,value
      70   00:0058  D3 99             >  out (0x99),a
      70   00:005A  3E 83             >  ld  a,register + 0x80
      70   00:005C  D3 99             >  out (0x99),a
      71   00:005E                      
      72   00:005E                      	_setVdp 5,0x37  ;   SAT at 1B80
      72   00:005E  3E 37             >  ld  a,value
      72   00:0060  D3 99             >  out (0x99),a
      72   00:0062  3E 85             >  ld  a,register + 0x80
      72   00:0064  D3 99             >  out (0x99),a
      73   00:0066                      	_setVdp 6,0x03  ;   SPT at 1800   (used from 0x1C00 to 0x1FFF  only 32 sprites 16x16)
      73   00:0066  3E 03             >  ld  a,value
      73   00:0068  D3 99             >  out (0x99),a
      73   00:006A  3E 86             >  ld  a,register + 0x80
      73   00:006C  D3 99             >  out (0x99),a
      74   00:006E                      
      75   00:006E  DB 99               	in  a,(0x99)	; s0 reset
      76   00:0070                      
      77   00:0070                      ;	call _sat_update
      78   00:0070                      	_setvdpwvram 0x1900
      78   00:0070                    >  if (value & 0xFF)
      78   00:0070                    ~   ld  a,value & 0xFF
      78   00:0070                    ~  else
      78   00:0070  AF                >   xor a
      78   00:0071                    >  endif
      78   00:0071  D3 99             >  out (0x99),a
      78   00:0073  3E 59             >  ld  a,0x40 + (value/256)
      78   00:0075  D3 99             >  out (0x99),a
      79   00:0077  CD 72 01            	call    _plot_pnt
      80   00:007A                      
      81   00:007A                      
      82   00:007A  DB 99               1:  in  a,(0x99)	; wait raster line
      83   00:007C  E6 5F               	and %01011111
      84   00:007E  FE 44               	cp  %01000100	; plane 4 =0x44
      85   00:0080  C2 7A 00            	jp  nz,1b
      86   00:0083                      
      87   00:0083                      	_setVdp 0,0x02  ;	screen 2
      87   00:0083  3E 02             >  ld  a,value
      87   00:0085  D3 99             >  out (0x99),a
      87   00:0087  3E 80             >  ld  a,register + 0x80
      87   00:0089  D3 99             >  out (0x99),a
      88   00:008B                      
      89   00:008B  3A 02 D8            	ld  a,(xmap)	; lower bits
      90   00:008E  47                  	ld  b,a
      91   00:008F  3A 05 D8            	ld  a,(ymap)	; lower bits
      92   00:0092  A8                  	xor b
      93   00:0093  E6 02               	and 2
      94   00:0095  CA 9E 00            	jp  z,page0
      95   00:0098                      page1:
      96   00:0098  CD 0B 03            	call    disp_page1
      97   00:009B  C3 A1 00            	jp  1f
      98   00:009E                      page0:
      99   00:009E  CD 1C 03            	call    disp_page0
     100   00:00A1                      1:
     101   00:00A1                      	_setVdp 5,0x36  ;   SAT at 0x1b00
     101   00:00A1  3E 36             >  ld  a,value
     101   00:00A3  D3 99             >  out (0x99),a
     101   00:00A5  3E 85             >  ld  a,register + 0x80
     101   00:00A7  D3 99             >  out (0x99),a
     102   00:00A9                      	_setVdp 6,0x07  ;   SPT at 0x3800   (64 sprites 16x16)
     102   00:00A9  3E 07             >  ld  a,value
     102   00:00AB  D3 99             >  out (0x99),a
     102   00:00AD  3E 86             >  ld  a,register + 0x80
     102   00:00AF  D3 99             >  out (0x99),a
     103   00:00B1                      
     104   00:00B1  DD E1               	pop    ix
     105   00:00B3  FD E1               	pop    iy
     106   00:00B5  F1                  	pop    af
     107   00:00B6  C1                  	pop    bc
     108   00:00B7  D1                  	pop    de
     109   00:00B8  E1                  	pop    hl
     110   00:00B9  08                  	ex     af,af'
     111   00:00BA  D9                  	exx
     112   00:00BB  F1                  	pop    af
     113   00:00BC  C1                  	pop    bc
     114   00:00BD  D1                  	pop    de
     115   00:00BE  E1                  	pop    hl
     116   00:00BF  FB                  	ei
     117   00:00C0  C9                  	ret
     118   00:00C1                      
     119   00:00C1                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     120   00:00C1                      ; -------------------------------------------------------
     121   00:00C1                      ; MSX-O-Mizer v1.5f datas depacker    *ROM based version*
     122   00:00C1                      ; Improved from Metalbrain's z80 version.
     123   00:00C1                      ; -------------------------------------------------------
     124   00:00C1                      ; source in hl
     125   00:00C1                      ; dest in de
     126   00:00C1                      
     127   00:00C1                      ; 328 bytes which must be aligned on 8 bits boundary
     128   00:00C1  (00:E000)           mom_map_bits_rom    =       0xe000
     129   00:00C1                      ; 26 bytes located in ram
     130   00:00C1  (00:E148)           mom_offset_table    =       0xe000 + 328
     131   00:00C1                      
     132   00:00C1                      
     133   00:00C1  D5                  mom_depack_rom:     push    de
     134   00:00C2  01 48 E1            					ld      bc, mom_offset_table
     135   00:00C5  C5                  					push    bc
     136   00:00C6  50                  					ld      d,b
     137   00:00C7  59                  					ld		e,c
     138   00:00C8  01 1A 00            					ld      bc, 26
     139   00:00CB  ED B0               					ldir
     140   00:00CD  E5                  					push    hl
     141   00:00CE  F1                  					pop     af
     142   00:00CF  E1                  					pop     hl
     143   00:00D0  F5                  					push    af
     144   00:00D1  FD 21 F0 E0         					ld      iy, mom_map_bits_rom + 0xf0
     145   00:00D5  06 34               					ld      b, 52
     146   00:00D7  FD 7D               mom_init_bits_rom:  ld      a, iyl
     147   00:00D9  E6 0F               					and     15
     148   00:00DB  20 03               					jr      nz, mom_node_rom
     149   00:00DD  11 01 00            					ld      de, 1
     150   00:00E0  ED 67               mom_node_rom:       rrd
     151   00:00E2  FD 77 00            					ld      (iy), a
     152   00:00E5  FD 73 24            					ld      (iy + 36), e
     153   00:00E8  FD 72 48            					ld      (iy + 72), d
     154   00:00EB  FD 2C               					inc     iyl
     155   00:00ED  3C                  					inc     a
     156   00:00EE  E5                  					push    hl
     157   00:00EF  21 00 00            					ld      hl, 0
     158   00:00F2  37                  					scf
     159   00:00F3  ED 6A               mom_set_bit_rom:    adc     hl, hl
     160   00:00F5  3D                  					dec     a
     161   00:00F6  20 FB               					jr      nz, mom_set_bit_rom
     162   00:00F8  19                  					add     hl, de
     163   00:00F9  EB                  					ex      de, hl
     164   00:00FA  E1                  					pop     hl
     165   00:00FB  CB 40               					bit     0, b
     166   00:00FD  28 01               					jr      z, mom_wait_step_rom
     167   00:00FF  23                  					inc     hl
     168   00:0100  10 D5               mom_wait_step_rom:  djnz    mom_init_bits_rom
     169   00:0102  E1                  					pop     hl
     170   00:0103  7E                  					ld      a, (hl)
     171   00:0104  23                  					inc     hl
     172   00:0105  DD 67               					ld      ixh, a
     173   00:0107  D1                  					pop     de
     174   00:0108  ED A0               mom_lit_copy_rom:   ldi
     175   00:010A  CD 67 01            mom_main_loop_rom:  call    mom_get_bit_rom
     176   00:010D  38 F9               					jr      c, mom_lit_copy_rom
     177   00:010F  0E EF               					ld      c, -17
     178   00:0111  CD 67 01            mom_get_index_rom:  call    mom_get_bit_rom
     179   00:0114  0C                  					inc     c
     180   00:0115  30 FA               					jr      nc, mom_get_index_rom
     181   00:0117  79                  					ld      a, c
     182   00:0118  C8                  					ret     z
     183   00:0119  D5                  					push    de
     184   00:011A  CD 46 01            					call    mom_get_pair_rom
     185   00:011D  C5                  					push    bc
     186   00:011E  20 0C               					jr      nz, mom_out_range_rom
     187   00:0120  11 20 02            					ld      de, 0x0220
     188   00:0123  0D                  					dec     c
     189   00:0124  28 09               					jr      z, mom_go_for_it_rom
     190   00:0126  11 10 04            					ld      de, 0x0410
     191   00:0129  0D                  					dec     c
     192   00:012A  28 03               					jr      z, mom_go_for_it_rom
     193   00:012C  11 00 04            mom_out_range_rom:  ld      de, 0x0400
     194   00:012F  F1                  mom_go_for_it_rom:  pop     af
     195   00:0130  08                  					ex      af, af'
     196   00:0131  CD 58 01            					call    mom_get_bits_rom
     197   00:0134  83                  					add     a, e
     198   00:0135  CD 46 01            					call    mom_get_pair_rom
     199   00:0138  D1                  					pop     de
     200   00:0139  E5                  					push    hl
     201   00:013A  62                  					ld      h, d
     202   00:013B  6B                  					ld      l, e
     203   00:013C  ED 42               					sbc     hl, bc
     204   00:013E  08                  					ex      af, af'
     205   00:013F  F5                  					push    af
     206   00:0140  C1                  					pop     bc
     207   00:0141  ED B0               					ldir
     208   00:0143  E1                  					pop     hl
     209   00:0144  18 C4               					jr      mom_main_loop_rom
     210   00:0146  FD 6F               mom_get_pair_rom:   ld      iyl, a
     211   00:0148  FD 56 00            					ld      d, (iy)
     212   00:014B  CD 58 01            					call    mom_get_bits_rom
     213   00:014E  FD 86 24            					add     (iy + 36)
     214   00:0151  4F                  					ld      c, a
     215   00:0152  78                  					ld      a, b
     216   00:0153  FD 8E 48            					adc     (iy + 72)
     217   00:0156  47                  					ld      b, a
     218   00:0157  C9                  					ret
     219   00:0158  01 00 00            mom_get_bits_rom:   ld      bc, 0
     220   00:015B                      mom_getting_bits_rom:
     221   00:015B  15                  					dec     d
     222   00:015C  79                  					ld      a, c
     223   00:015D  F8                  					ret     m
     224   00:015E  CD 67 01            					call    mom_get_bit_rom
     225   00:0161  CB 11               					rl      c
     226   00:0163  CB 10               					rl      b
     227   00:0165  18 F4               					jr      mom_getting_bits_rom
     228   00:0167  DD 7C               mom_get_bit_rom:    ld      a, ixh
     229   00:0169  87                  					add     a
     230   00:016A  20 03               					jr      nz, mom_byte_done_rom
     231   00:016C  7E                  					ld      a, (hl)
     232   00:016D  23                  					inc     hl
     233   00:016E  17                  					rla
     234   00:016F  DD 67               mom_byte_done_rom:  ld      ixh, a
     235   00:0171  C9                  					ret
     236   00:0172                      
     237   00:0172                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     238   00:0172                      ; PLOT PNT
     239   00:0172                      ; input : xmap,ymap
     240   00:0172                      ;
     241   00:0172                      _plot_pnt:
     242   00:0172  2A 02 D8            	ld  hl,(xmap)   ; x position in pixels
     243   00:0175  7D                  	ld  a,l
     244   00:0176  0F                  	rrca
     245   00:0177  E6 03               	and %00000011
     246   00:0179  47                  	ld	b,a
     247   00:017A  2A 05 D8            	ld  hl,(ymap)   ; y position in pixels
     248   00:017D  7D                  	ld  a,l
     249   00:017E  E6 06               	and %00000110
     250   00:0180  87                  	add a,a
     251   00:0181  80                  	add a,b
     252   00:0182  C6 50               	add a,meta_pnt_table/256
     253   00:0184  DD 6F               	ld  ixl,a		; 			row in meta vec
     254   00:0186                      
     255   00:0186                      	; hl = x/8+y/8*64 = x/8 + (y & %1111 1111 1111 1000)*8
     256   00:0186                      
     257   00:0186  2A 02 D8            	ld  hl,(xmap)   ; x position in pixels
     258   00:0189  CB 3C               	srl h
     259   00:018B  CB 1D               	rr  l
     260   00:018D  CB 3C               	srl h
     261   00:018F  CB 1D               	rr  l
     262   00:0191  CB 3C               	srl h
     263   00:0193  CB 1D               	rr  l
     264   00:0195  E5                  	push hl
     265   00:0196  2A 05 D8            	ld  hl,(ymap)   ; y position in pixels
     266   00:0199  7D                  	ld  a,l
     267   00:019A  E6 F8               	and %11111000
     268   00:019C  6F                  	ld  l,a
     269   00:019D  29                  	add hl,hl
     270   00:019E  29                  	add hl,hl
     271   00:019F  29                  	add hl,hl
     272   00:01A0  D1                  	pop de
     273   00:01A1  19                  	add hl,de
     274   00:01A2  11 00 C0            	ld  de,level_buffer
     275   00:01A5  19                  	add hl,de
     276   00:01A6                      
     277   00:01A6  EB                  	ex  de,hl
     278   00:01A7                      
     279   00:01A7  0E 98               	ld  c,0x98
     280   00:01A9  DD 26 10            	ld  ixh,16
     281   00:01AC                      1:
     282   00:01AC  DD 7D               	ld  a,ixl
     283   00:01AE  67                  	ld  h,a
     284   00:01AF  7B                  	ld  a,e
     285   00:01B0  C6 20               	add a,32
     286   00:01B2  D2 60 02            	jp  nc,.fast_loop
     287   00:01B5                      
     288   00:01B5                      .slow_loop:
     289   00:01B5                      	repeat 32
     290   00:01B5                    < 	ld  a,(de)
     291   00:01B5                    < 	ld  l,a
     292   00:01B5                    < 	outi
     293   00:01B5                    < 	inc de
     294   00:01B5                    < 	endrepeat
     294   00:01B5  1A 6F ED A3 13 1A 6F ED A3 13 1A 6F ED A3 13 1A 
     294   00:01C5  6F ED A3 13 1A 6F ED A3 13 1A 6F ED A3 13 1A 6F 
     294   00:01D5  ED A3 13 1A 6F ED A3 13 1A 6F ED A3 13 1A 6F ED 
     294   00:01E5  A3 13 1A 6F ED A3 13 1A 6F ED A3 13 1A 6F ED A3 
     294   00:01F5  13 1A 6F ED A3 13 1A 6F ED A3 13 1A 6F ED A3 13 
     294   00:0205  1A 6F ED A3 13 1A 6F ED A3 13 1A 6F ED A3 13 1A 
     294   00:0215  6F ED A3 13 1A 6F ED A3 13 1A 6F ED A3 13 1A 6F 
     294   00:0225  ED A3 13 1A 6F ED A3 13 1A 6F ED A3 13 1A 6F ED 
     294   00:0235  A3 13 1A 6F ED A3 13 1A 6F ED A3 13 1A 6F ED A3 
     294   00:0245  13 1A 6F ED A3 13 1A 6F ED A3 13 1A 6F ED A3 13 
     295   00:0255                      
     296   00:0255  21 20 00            	ld  hl,LvlWidth-32
     297   00:0258  19                  	add hl,de
     298   00:0259  EB                  	ex  de,hl
     299   00:025A                      
     300   00:025A  DD 25               	dec ixh
     301   00:025C  C2 AC 01            	jp  nz,1b
     302   00:025F                      
     303   00:025F  C9                  	ret
     304   00:0260                      
     305   00:0260                      .fast_loop:
     306   00:0260                      	repeat 32
     307   00:0260                    < 	ld  a,(de)
     308   00:0260                    < 	ld  l,a
     309   00:0260                    < 	outi
     310   00:0260                    < 	inc e
     311   00:0260                    < 	endrepeat
     311   00:0260  1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 
     311   00:0270  6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F 
     311   00:0280  ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED 
     311   00:0290  A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 
     311   00:02A0  1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 
     311   00:02B0  1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 
     311   00:02C0  6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F 
     311   00:02D0  ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED 
     311   00:02E0  A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 
     311   00:02F0  1C 1A 6F ED A3 1C 1A 6F ED A3 1C 1A 6F ED A3 1C 
     312   00:0300                      
     313   00:0300  21 20 00            	ld  hl,LvlWidth-32
     314   00:0303  19                  	add hl,de
     315   00:0304  EB                  	ex  de,hl
     316   00:0305                      
     317   00:0305  DD 25               	dec ixh
     318   00:0307  C2 AC 01            	jp  nz,1b
     319   00:030A                      
     320   00:030A  C9                  	ret
     321   00:030B                      
     322   00:030B                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     323   00:030B                      ;          defb 0x02 ; Reg# 0 000000[M3][EV]
     324   00:030B                      ;          defb 0x62 ; Reg# 1 [4/16k][BLANK][IE][M1][M2]0[SIZE][MAG]
     325   00:030B                      ;          defb 0x06 ; Reg# 2 0000[NAME TABLE BASE ADDRESS]          = 1800h
     326   00:030B                      
     327   00:030B                      ;          defb 0x9F ; Reg# 3 [COLOR BASE ADDRESS]                   = 2000h ; hybrid mode for colors
     328   00:030B                      ;          defb 0xFF ; Reg# 3 [COLOR BASE ADDRESS]                   = 2000h ; regular mode for colors
     329   00:030B                      
     330   00:030B                      ;          defb 0x1F ; Reg# 3 [COLOR BASE ADDRESS]                   = 0000h ; hybrid mode for colors
     331   00:030B                      ;          defb 0x7F ; Reg# 3 [COLOR BASE ADDRESS]                   = 0000h ; regular mode for colors
     332   00:030B                      
     333   00:030B                      ;          defb 0x00 ; Reg# 4 00000[PATTERN GENERATOR BASE ADDRESS]  = 0000h ; hybrid mode for patterns
     334   00:030B                      ;          defb 0x03 ; Reg# 4 00000[PATTERN GENERATOR BASE ADDRESS]  = 0000h ; regular mode for patterns
     335   00:030B                      
     336   00:030B                      ;          defb 0x04 ; Reg# 4 00000[PATTERN GENERATOR BASE ADDRESS]  = 2000h ; hybrid mode for patterns
     337   00:030B                      ;          defb 0x07 ; Reg# 4 00000[PATTERN GENERATOR BASE ADDRESS]  = 2000h ; regular mode for patterns
     338   00:030B                      
     339   00:030B                      ;          defb 0x36 ; Reg# 5 0[SPRITE ATTRIBUTE TABLE BASE ADDRESS] = 1b00h
     340   00:030B                      ;          defb 0x07 ; Reg# 6 00000[SPRITE PTRN GNRTR BASE ADDRESS]  = 3800h
     341   00:030B                      ;          defb 0x01 ; Reg# 7 [TEXT COLOR 4bts][BACKDROP COLOR 4bts]
     342   00:030B                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     343   00:030B                      
     344   00:030B                      disp_page1:         ; page 1 active
     345   00:030B                      	_setVdp 3,0x9F  ;   colours at 0x2000   (hybrid)
     345   00:030B  3E 9F             >  ld  a,value
     345   00:030D  D3 99             >  out (0x99),a
     345   00:030F  3E 83             >  ld  a,register + 0x80
     345   00:0311  D3 99             >  out (0x99),a
     346   00:0313                      	_setVdp 4,0x03  ;   patterns at 0x0000  (regular: used 0x0800 0x1000)
     346   00:0313  3E 03             >  ld  a,value
     346   00:0315  D3 99             >  out (0x99),a
     346   00:0317  3E 84             >  ld  a,register + 0x80
     346   00:0319  D3 99             >  out (0x99),a
     347   00:031B  C9                  	ret
     348   00:031C                      
     349   00:031C                      disp_page0:         ; page 0 active
     350   00:031C                      	_setVdp 3,0x1F  ;   colours at 0x0000   (hybrid)
     350   00:031C  3E 1F             >  ld  a,value
     350   00:031E  D3 99             >  out (0x99),a
     350   00:0320  3E 83             >  ld  a,register + 0x80
     350   00:0322  D3 99             >  out (0x99),a
     351   00:0324                      	_setVdp 4,0x07  ;   patterns at 0x2000  (regular: used 0x2800 0x3000)
     351   00:0324  3E 07             >  ld  a,value
     351   00:0326  D3 99             >  out (0x99),a
     351   00:0328  3E 84             >  ld  a,register + 0x80
     351   00:032A  D3 99             >  out (0x99),a
     352   00:032C  C9                  	ret
     353   00:032D                      
     354   00:032D                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     355   00:032D                      ;
     356   00:032D                      ;   sprite multiplexing
     357   00:032D                      ;
     358   00:032D                      _sat_update:
     359   00:032D  3A 08 D8            	ld  a,(reverse_sat)
     360   00:0330  EE 01               	xor 1
     361   00:0332  32 08 D8            	ld  (reverse_sat),a
     362   00:0335  C2 5B 03            	jp  nz,_reverse_sat
     363   00:0338                      
     364   00:0338                      _directsat:
     365   00:0338  3A 07 D8            	ld  a,(visible_sprts)
     366   00:033B  E6 FC               	and 0xFC
     367   00:033D  C8                  	ret z
     368   00:033E  47                  	ld  b,a
     369   00:033F  0E 98               	ld  c,0x98
     370   00:0341  21 09 D8            	ld  hl,ram_sat
     371   00:0344                      	_setvdpwvram 0x1b00
     371   00:0344                    >  if (value & 0xFF)
     371   00:0344                    ~   ld  a,value & 0xFF
     371   00:0344                    ~  else
     371   00:0344  AF                >   xor a
     371   00:0345                    >  endif
     371   00:0345  D3 99             >  out (0x99),a
     371   00:0347  3E 5B             >  ld  a,0x40 + (value/256)
     371   00:0349  D3 99             >  out (0x99),a
     372   00:034B  ED A3               1:  outi
     373   00:034D  ED A3               	outi
     374   00:034F  ED A3               	outi
     375   00:0351  ED A3               	outi
     376   00:0353  C2 4B 03            	jp  nz,1b
     377   00:0356  3E D0               	ld  a,0xD0
     378   00:0358  D3 98               	out (0x98),a
     379   00:035A  C9                  	ret
     380   00:035B                      
     381   00:035B                      _reverse_sat
     382   00:035B  3A 07 D8            	ld  a,(visible_sprts)
     383   00:035E  E6 FC               	and 0xFC
     384   00:0360  C8                  	ret z
     385   00:0361  47                  	ld  b,a
     386   00:0362  0E 98               	ld  c,0x98
     387   00:0364  21 0D D8            	ld  hl,ram_sat-4+8
     388   00:0367                      
     389   00:0367  58                  	ld  e,b
     390   00:0368  16 00               	ld  d,0
     391   00:036A  19                  	add hl,de
     392   00:036B  11 F8 FF            	ld  de,-8
     393   00:036E                      
     394   00:036E                      	_setvdpwvram 0x1b00
     394   00:036E                    >  if (value & 0xFF)
     394   00:036E                    ~   ld  a,value & 0xFF
     394   00:036E                    ~  else
     394   00:036E  AF                >   xor a
     394   00:036F                    >  endif
     394   00:036F  D3 99             >  out (0x99),a
     394   00:0371  3E 5B             >  ld  a,0x40 + (value/256)
     394   00:0373  D3 99             >  out (0x99),a
     395   00:0375  19                  1:  add hl,de
     396   00:0376  ED A3               	outi
     397   00:0378  ED A3               	outi
     398   00:037A  ED A3               	outi
     399   00:037C  ED A3               	outi
     400   00:037E  C2 75 03            	jp  nz,1b
     401   00:0381  3E D0               	ld  a,0xD0
     402   00:0383  D3 98               	out (0x98),a
     403   00:0385  C9                  	ret
     404   00:0386                      
     405   00:0386                      
     406   00:0386                      
     407   00:0386                      
     408   00:0386                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     409   00:0386                      ; IN HL:DE INPUT
     410   00:0386                      ; BC POINTS TO OUTPUT
     411   00:0386                      
     412   00:0386                      long2ascii:
     413   00:0386                      					; HL = HIGH WORD
     414   00:0386  D5                  	PUSH    DE
     415   00:0387  D9                  	EXX
     416   00:0388  E1                  	POP     HL      ; HL' = LOW WORD
     417   00:0389  D9                  	EXX
     418   00:038A                      
     419   00:038A  59                  	LD  E,C
     420   00:038B  50                  	LD  D,B
     421   00:038C                      
     422   00:038C  01 65 C4            	LD  BC,-1000000000/0x10000 -1
     423   00:038F  D9                  	EXX
     424   00:0390  01 00 36            	LD  BC,-1000000000&0xFFFF
     425   00:0393  D9                  	EXX
     426   00:0394  CD F7 03            	CALL    NUM1
     427   00:0397                      
     428   00:0397  01 0A FA            	LD  BC,-100000000/0x10000 -1
     429   00:039A  D9                  	EXX
     430   00:039B  01 00 1F            	LD  BC,-100000000&0xFFFF
     431   00:039E  D9                  	EXX
     432   00:039F  CD F7 03            	CALL    NUM1
     433   00:03A2                      
     434   00:03A2  01 67 FF            	LD  BC,-10000000/0x10000 -1
     435   00:03A5  D9                  	EXX
     436   00:03A6  01 80 69            	LD  BC,-10000000&0xFFFF
     437   00:03A9  D9                  	EXX
     438   00:03AA  CD F7 03            	CALL    NUM1
     439   00:03AD                      
     440   00:03AD  01 F0 FF            	LD  BC,-1000000/0x10000 -1
     441   00:03B0  D9                  	EXX
     442   00:03B1  01 C0 BD            	LD  BC,-1000000&0xFFFF
     443   00:03B4  D9                  	EXX
     444   00:03B5  CD F7 03            	CALL    NUM1
     445   00:03B8                      
     446   00:03B8  01 FE FF            	LD  BC,-100000/0x10000 -1
     447   00:03BB  D9                  	EXX
     448   00:03BC  01 60 79            	LD  BC,-100000&0xFFFF
     449   00:03BF  D9                  	EXX
     450   00:03C0  CD F7 03            	CALL    NUM1
     451   00:03C3                      
     452   00:03C3  01 FF FF            	LD  BC,-10000/0x10000 -1
     453   00:03C6  D9                  	EXX
     454   00:03C7  01 F0 D8            	LD  BC,-10000&0xFFFF
     455   00:03CA  D9                  	EXX
     456   00:03CB  CD F7 03            	CALL    NUM1
     457   00:03CE                      
     458   00:03CE  01 FF FF            	LD  BC,-1000/0x10000 -1
     459   00:03D1  D9                  	EXX
     460   00:03D2  01 18 FC            	LD  BC,-1000&0xFFFF
     461   00:03D5  D9                  	EXX
     462   00:03D6  CD F7 03            	CALL    NUM1
     463   00:03D9                      
     464   00:03D9  01 FF FF            	LD  BC,-100/0x10000 -1
     465   00:03DC  D9                  	EXX
     466   00:03DD  01 9C FF            	LD  BC,-100&0xFFFF
     467   00:03E0  D9                  	EXX
     468   00:03E1  CD F7 03            	CALL    NUM1
     469   00:03E4                      
     470   00:03E4  01 FF FF            	LD  BC,-10/0x10000 -1
     471   00:03E7  D9                  	EXX
     472   00:03E8  01 F6 FF            	LD  BC,-10&0xFFFF
     473   00:03EB  D9                  	EXX
     474   00:03EC  CD F7 03            	CALL    NUM1
     475   00:03EF                      
     476   00:03EF  01 FF FF            	LD  BC,-1/0x10000 -1
     477   00:03F2  D9                  	EXX
     478   00:03F3  01 FF FF            	LD  BC,-1&0xFFFF
     479   00:03F6  D9                  	EXX
     480   00:03F7                      
     481   00:03F7                      NUM1:
     482   00:03F7  3E 2F               	LD  A,'0'-1  ; '0' IN THE TILESET
     483   00:03F9                      
     484   00:03F9                      1:
     485   00:03F9  3C                  	INC A
     486   00:03FA  D9                  	EXX
     487   00:03FB  09                  	add HL,BC       ; low word
     488   00:03FC  D9                  	EXX
     489   00:03FD  ED 4A               	ADC HL,BC       ; high word
     490   00:03FF  DA F9 03            	jp  C,1b
     491   00:0402                      
     492   00:0402  D9                  	EXX
     493   00:0403  ED 42               	SBC HL,BC       ; low word
     494   00:0405  D9                  	EXX
     495   00:0406  ED 42               	SBC HL,BC       ; high word
     496   00:0408                      
     497   00:0408  12                  	LD  (DE),A
     498   00:0409  13                  	INC DE
     499   00:040A  C9                  	RET
     500   00:040B                      
     501   00:040B                      ; ------------------------------------------------
     502   00:040B                      ; expand level  in A
     503   00:040B                      ;
     504   00:040B                      levelinit:
     505   00:040B  21 00 C0            	ld	hl,level_buffer
     506   00:040E  11 01 C0            	ld	de,level_buffer+1
     507   00:0411  AF                  	xor	a
     508   00:0412  77                  	ld	(hl),a
     509   00:0413  01 FF 17            	ld	bc,6*1024-1
     510   00:0416  ED B0               	ldir
     511   00:0418                      
     512   00:0418  21 00 60            	ld	hl,	meta_pnt
     513   00:041B  11 00 C0            	ld	de,level_buffer
     514   00:041E  01 00 10            	ld	bc,64*64
     515   00:0421  ED B0               	ldir
     516   00:0423  C9                  	ret
     517   00:0424                      
     518   00:0424                      ; ------------------------------------------------
     519   00:0424                      ; rom header
     520   00:0424                      
     521   00:0424  (01)                	page 1
     522   01:4000                      
     523   01:4000                      	code @ 0x4000
     524   01:4000                      
     525   01:4000                      	org 04000h
     526   01:4000  41 42               	db  041h,042h
     527   01:4002  59 41               	dw  initmain
     528   01:4004                      	dz  'TRI004'
     528   01:4004  54 52 49 30 30 34 00 
     529   01:400B  00 (5)              	ds  5
     530   01:4010                      
     531   01:4010                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     532   01:4010                      ;
     533   01:4010                      ; checkkbd: ckeck keyboard line
     534   01:4010                      ; in:  E = row
     535   01:4010                      ; out: L = bit pattern (1 = not pressed)
     536   01:4010                      ;
     537   01:4010                      ; row/bit|    7     6     5     4     3     2     1     0
     538   01:4010                      ; -------+--------------------------------------------------
     539   01:4010                      ;    0   |    7     6     5     4     3     2     1     0
     540   01:4010                      ;    1   |    ;     ]     [     \     =     -     9     8
     541   01:4010                      ;    2   |    B     A    ???    /     .     ,     '     `
     542   01:4010                      ;    3   |    J     I     H     G     F     E     D     C
     543   01:4010                      ;    4   |    R     Q     P     O     N     M     L     K
     544   01:4010                      ;    5   |    Z     Y     X     W     V     U     T     S
     545   01:4010                      ;    6   |   F3    F2    F1   CODE   CAP  GRAPH CTRL  SHIFT
     546   01:4010                      ;    7   |   RET   SEL   BS   STOP   TAB   ESC   F5    F4
     547   01:4010                      ;    8   |  RIGHT DOWN   UP   LEFT   DEL   INS  HOME  SPACE
     548   01:4010                      ;    9   |    4     3     2     1     0     /     +     *
     549   01:4010                      ;   10   |    .     ,     -     9     8     7     6     5
     550   01:4010                      ;   11   |                           NO          YES
     551   01:4010                      ;
     552   01:4010                      ;
     553   01:4010                      
     554   01:4010  (01:00A9)           i8255portb  equ 0a9h        ; keyboard column input
     555   01:4010  (01:00AA)           i8255portc  equ 0aah        ; leds, motor, cassette, kbd line
     556   01:4010                      
     557   01:4010                      checkkbd:
     558   01:4010  DB AA               	in  a,(i8255portc)
     559   01:4012  E6 F0               	and 011110000B          ; upper 4 bits contain info to preserve
     560   01:4014  B3                  	or  e
     561   01:4015  D3 AA               	out (i8255portc),a
     562   01:4017  DB A9               	in  a,(i8255portb)
     563   01:4019  6F                  	ld  l,a
     564   01:401A  C9                  	ret
     565   01:401B                      
     566   01:401B                      ; -----------------------------
     567   01:401B                      ; parameters
     568   01:401B                      ;
     569   01:401B  (01:0040)           LvlWidth:   equ 64
     570   01:401B  (01:0040)           LvlHigh:   	equ 64
     571   01:401B                      
     572   01:401B                      ;   nphase:     equ 4
     573   01:401B                      ;   xstep:      equ 2
     574   01:401B                      ;
     575   01:401B                      
     576   01:401B                      
     577   01:401B  (01:0008)           maxspeed:   equ 8
     578   01:401B  (01:001D)           max_enem:   equ 29      ; max number of enemies -> + 3 for ms  = 32 sprites
     579   01:401B                      
     580   01:401B                      ; ------------------------------
     581   01:401B                      
     582   01:401B                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     583   01:401B                      ; vdp access
     584   01:401B                      
     585   01:401B  (01:F3DF)           _vdpReg equ 0xF3DF
     586   01:401B  (01:F3AE)           LINL40  equ 0xF3AE
     587   01:401B                      
     588   01:401B                      ; e = screen mode
     589   01:401B                      _scr:
     590   01:401B  3A E0 F3            	ld  a,(_vdpReg+1)
     591   01:401E  F6 02               	or 2
     592   01:4020  32 E0 F3            	ld  (_vdpReg+1),a
     593   01:4023                      
     594   01:4023  7B                  	ld  a,e
     595   01:4024  CD 5F 00            	call 0x005f
     596   01:4027                      
     597   01:4027  C9                  	ret
     598   01:4028                      
     599   01:4028                      
     600   01:4028                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     601   01:4028                      ;
     602   01:4028                      ;   load tile sets and sprites
     603   01:4028                      vraminit:
     604   01:4028                      
     605   01:4028                      
     606   01:4028                      ; set sprites
     607   01:4028                      
     608   01:4028                      	_setvdpwvram 0x3800
     608   01:4028                    >  if (value & 0xFF)
     608   01:4028                    ~   ld  a,value & 0xFF
     608   01:4028                    ~  else
     608   01:4028  AF                >   xor a
     608   01:4029                    >  endif
     608   01:4029  D3 99             >  out (0x99),a
     608   01:402B  3E 78             >  ld  a,0x40 + (value/256)
     608   01:402D  D3 99             >  out (0x99),a
     609   01:402F  21 00 90            	ld  hl,test_spt
     610   01:4032  CD C7 40            	call    write_256
     611   01:4035                      
     612   01:4035                      	_setvdpwvram 0x1B80              ; sprites in the scorebar
     612   01:4035                    >  if (value & 0xFF)
     612   01:4035  3E 80             >   ld  a,value & 0xFF
     612   01:4037                    >  else
     612   01:4037                    ~   xor a
     612   01:4037                    ~  endif
     612   01:4037  D3 99             >  out (0x99),a
     612   01:4039  3E 5B             >  ld  a,0x40 + (value/256)
     612   01:403B  D3 99             >  out (0x99),a
     613   01:403D  21 72 42            	ld  hl,scorebar_sat
     614   01:4040  CD C7 40            	call    write_256
     615   01:4043                      
     616   01:4043                      	_setvdpwvram 0x1C00
     616   01:4043                    >  if (value & 0xFF)
     616   01:4043                    ~   ld  a,value & 0xFF
     616   01:4043                    ~  else
     616   01:4043  AF                >   xor a
     616   01:4044                    >  endif
     616   01:4044  D3 99             >  out (0x99),a
     616   01:4046  3E 5C             >  ld  a,0x40 + (value/256)
     616   01:4048  D3 99             >  out (0x99),a
     617   01:404A  21 00 98            	ld  hl,scorebar 		;0x1BBF	; dummy tile set from basic rom
     618   01:404D  CD C7 40            	call    write_256
     619   01:4050                      
     620   01:4050                      
     621   01:4050                      	_setvdpwvram 0x1800
     621   01:4050                    >  if (value & 0xFF)
     621   01:4050                    ~   ld  a,value & 0xFF
     621   01:4050                    ~  else
     621   01:4050  AF                >   xor a
     621   01:4051                    >  endif
     621   01:4051  D3 99             >  out (0x99),a
     621   01:4053  3E 58             >  ld  a,0x40 + (value/256)
     621   01:4055  D3 99             >  out (0x99),a
     622   01:4057  AF                  	xor a               ;   clear top panel
     623   01:4058  47                  	ld	b,a
     624   01:4059  F6 80               1:	or	128
     625   01:405B  D3 98               	out (0x98),a
     626   01:405D  3C                  	inc a
     627   01:405E  04                  	inc	b
     628   01:405F  20 F8               	jr	nz,1b
     629   01:4061                      
     630   01:4061                      	_setvdpwvram 0x1BD0
     630   01:4061                    >  if (value & 0xFF)
     630   01:4061  3E D0             >   ld  a,value & 0xFF
     630   01:4063                    >  else
     630   01:4063                    ~   xor a
     630   01:4063                    ~  endif
     630   01:4063  D3 99             >  out (0x99),a
     630   01:4065  3E 5B             >  ld  a,0x40 + (value/256)
     630   01:4067  D3 99             >  out (0x99),a
     631   01:4069  06 10               	ld	b,16
     632   01:406B  78                  1:	ld	a,b
     633   01:406C  3C 3C               [2]	inc	a
     634   01:406E  87 87 87 87         [4]	add	a,a
     635   01:4072  B0                  	or b
     636   01:4073  D3 98               	out (0x98),a
     637   01:4075  05                  	dec	b
     638   01:4076  20 F3               	jr	nz,1b
     639   01:4078                      
     640   01:4078                      ; set pat
     641   01:4078                      
     642   01:4078                      	_setvdpwvram 0x0800
     642   01:4078                    >  if (value & 0xFF)
     642   01:4078                    ~   ld  a,value & 0xFF
     642   01:4078                    ~  else
     642   01:4078  AF                >   xor a
     642   01:4079                    >  endif
     642   01:4079  D3 99             >  out (0x99),a
     642   01:407B  3E 48             >  ld  a,0x40 + (value/256)
     642   01:407D  D3 99             >  out (0x99),a
     643   01:407F  21 00 78            	ld  hl,chr_tileset1
     644   01:4082  CD C7 40            	call    write_256
     645   01:4085                      
     646   01:4085                      	_setvdpwvram 0x1000
     646   01:4085                    >  if (value & 0xFF)
     646   01:4085                    ~   ld  a,value & 0xFF
     646   01:4085                    ~  else
     646   01:4085  AF                >   xor a
     646   01:4086                    >  endif
     646   01:4086  D3 99             >  out (0x99),a
     646   01:4088  3E 50             >  ld  a,0x40 + (value/256)
     646   01:408A  D3 99             >  out (0x99),a
     647   01:408C  21 00 78            	ld  hl,chr_tileset1
     648   01:408F  CD C7 40            	call    write_256
     649   01:4092                      
     650   01:4092                      	_setvdpwvram 0x2800
     650   01:4092                    >  if (value & 0xFF)
     650   01:4092                    ~   ld  a,value & 0xFF
     650   01:4092                    ~  else
     650   01:4092  AF                >   xor a
     650   01:4093                    >  endif
     650   01:4093  D3 99             >  out (0x99),a
     650   01:4095  3E 68             >  ld  a,0x40 + (value/256)
     650   01:4097  D3 99             >  out (0x99),a
     651   01:4099  21 00 70            	ld  hl,chr_tileset0
     652   01:409C  CD C7 40            	call    write_256
     653   01:409F                      
     654   01:409F                      	_setvdpwvram 0x3000
     654   01:409F                    >  if (value & 0xFF)
     654   01:409F                    ~   ld  a,value & 0xFF
     654   01:409F                    ~  else
     654   01:409F  AF                >   xor a
     654   01:40A0                    >  endif
     654   01:40A0  D3 99             >  out (0x99),a
     654   01:40A2  3E 70             >  ld  a,0x40 + (value/256)
     654   01:40A4  D3 99             >  out (0x99),a
     655   01:40A6  21 00 70            	ld  hl,chr_tileset0
     656   01:40A9  CD C7 40            	call    write_256
     657   01:40AC                      
     658   01:40AC                      ; set colours
     659   01:40AC                      
     660   01:40AC                      	_setvdpwvram 0x0000
     660   01:40AC                    >  if (value & 0xFF)
     660   01:40AC                    ~   ld  a,value & 0xFF
     660   01:40AC                    ~  else
     660   01:40AC  AF                >   xor a
     660   01:40AD                    >  endif
     660   01:40AD  D3 99             >  out (0x99),a
     660   01:40AF  3E 40             >  ld  a,0x40 + (value/256)
     660   01:40B1  D3 99             >  out (0x99),a
     661   01:40B3  21 00 80            	ld  hl,clr_tileset0
     662   01:40B6  CD C7 40            	call    write_256
     663   01:40B9                      
     664   01:40B9                      	_setvdpwvram 0x2000
     664   01:40B9                    >  if (value & 0xFF)
     664   01:40B9                    ~   ld  a,value & 0xFF
     664   01:40B9                    ~  else
     664   01:40B9  AF                >   xor a
     664   01:40BA                    >  endif
     664   01:40BA  D3 99             >  out (0x99),a
     664   01:40BC  3E 60             >  ld  a,0x40 + (value/256)
     664   01:40BE  D3 99             >  out (0x99),a
     665   01:40C0  21 00 88            	ld  hl,clr_tileset1
     666   01:40C3  CD C7 40            	call    write_256
     667   01:40C6                      
     668   01:40C6  C9                  	ret
     669   01:40C7                      
     670   01:40C7                      write_256:
     671   01:40C7  01 98 00            	ld  bc,0x0098
     672   01:40CA                      	repeat 8
     673   01:40CA                    < 1:  outi
     674   01:40CA                    < 	jp nz,1b
     675   01:40CA                    < 	endrepeat
     675   01:40CA  ED A3 C2 CA 40 ED A3 C2 CF 40 ED A3 C2 D4 40 ED 
     675   01:40DA  A3 C2 D9 40 ED A3 C2 DE 40 ED A3 C2 E3 40 ED A3 
     675   01:40EA  C2 E8 40 ED A3 C2 ED 40 
     676   01:40F2  C9                  	ret
     677   01:40F3                      
     678   01:40F3                      
     679   01:40F3                      
     680   01:40F3                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     681   01:40F3                      ; set pages and subslot
     682   01:40F3                      ;
     683   01:40F3                      
     684   01:40F3                      
     685   01:40F3  (01:0024)           ENASLT:         equ     024h
     686   01:40F3  (01:0138)           RSLREG:         equ     0138h
     687   01:40F3  (01:FCC1)           EXPTBL:         equ     0FCC1h  ; Bios Slot / Expansion Slot
     688   01:40F3                      
     689   01:40F3                      
     690   01:40F3                      
     691   01:40F3                      ; -----------------------
     692   01:40F3                      ; SEARCH_SLOTSET
     693   01:40F3                      ; Posiciona en pagina 2
     694   01:40F3                      ; Nuestro ROM.
     695   01:40F3                      ; -----------------------
     696   01:40F3                      
     697   01:40F3                      rominit:
     698   01:40F3                      search_slotset:
     699   01:40F3  F3                  	di
     700   01:40F4  CD FA 40            	call    search_slot
     701   01:40F7  C3 24 00            	jp      ENASLT
     702   01:40FA                      
     703   01:40FA                      ; -----------------------
     704   01:40FA                      ; SEARCH_SLOT
     705   01:40FA                      ; Busca slot de nuestro rom
     706   01:40FA                      ; -----------------------
     707   01:40FA                      
     708   01:40FA                      search_slot:
     709   01:40FA  CD 38 01            	call    RSLREG
     710   01:40FD  0F                  	rrca
     711   01:40FE  0F                  	rrca
     712   01:40FF  E6 03               	and     3
     713   01:4101  4F                  	ld      c,a
     714   01:4102  06 00               	ld      b,0
     715   01:4104  21 C1 FC            	ld      hl,EXPTBL
     716   01:4107  09                  	add     hl,bc
     717   01:4108  7E                  	ld      a,(hl)
     718   01:4109  E6 80               	and     080h
     719   01:410B  B1                  	or      c
     720   01:410C  4F                  	ld      c,a
     721   01:410D  23                  	inc     hl
     722   01:410E  23                  	inc     hl
     723   01:410F  23                  	inc     hl
     724   01:4110  23                  	inc     hl
     725   01:4111  7E                  	ld      a,(hl)
     726   01:4112  E6 0C               	and     0Ch
     727   01:4114  B1                  	or      c;
     728   01:4115  26 80               	ld      h,080h
     729   01:4117  32 00 D8            	ld      (slotvar),a
     730   01:411A  C9                  	ret
     731   01:411B                      
     732   01:411B                      ; ------------------------------
     733   01:411B                      ; SETROMPAGE0
     734   01:411B                      ; Posiciona nuestro cartucho en
     735   01:411B                      ; Pagina 0
     736   01:411B                      ; -----------------------------
     737   01:411B                      
     738   01:411B                      setrompage0:
     739   01:411B  3A 00 D8            	ld      a,(slotvar)
     740   01:411E  18 03               	jr      setslotpage0
     741   01:4120                      
     742   01:4120                      ; ------------------------------
     743   01:4120                      ; RECBIOS
     744   01:4120                      ; Posiciona la bios ROM
     745   01:4120                      ; -------------------------------
     746   01:4120                      recbios:
     747   01:4120  3A C1 FC            	ld      a,(EXPTBL)
     748   01:4123                      
     749   01:4123                      ; ---------------------------
     750   01:4123                      ; SETSLOTPAGE0
     751   01:4123                      ; Posiciona el slot pasado
     752   01:4123                      ; en pagina 0 del Z80
     753   01:4123                      ; A: Formato FxxxSSPP
     754   01:4123                      ; ----------------------------
     755   01:4123                      
     756   01:4123                      setslotpage0:
     757   01:4123  F3                  	di
     758   01:4124  47                  	ld      b,a                 ; B = Slot param in FxxxSSPP format
     759   01:4125                      
     760   01:4125  DB A8               	in      a,(0A8h)
     761   01:4127  E6 FC               	and     0xFC
     762   01:4129  57                  	ld      d,a                 ; D = Primary slot value
     763   01:412A                      
     764   01:412A  78                  	ld      a,b
     765   01:412B                      
     766   01:412B  E6 03               	and     3
     767   01:412D  B2                  	or      d
     768   01:412E  57                  	ld      d,a                 ; D = Final Value for primary slot
     769   01:412F                      
     770   01:412F                      	; Check if expanded
     771   01:412F  78                  	ld      a,b
     772   01:4130  CB 7F               	bit     7,a
     773   01:4132  28 21               	jr      z,1f    ; Not Expanded
     774   01:4134                      
     775   01:4134  E6 03               	and     3
     776   01:4136  0F                  	rrca
     777   01:4137  0F                  	rrca
     778   01:4138  E6 C0               	and     0xC0
     779   01:413A  4F                  	ld      c,a
     780   01:413B  7A                  	ld      a,d
     781   01:413C  E6 3F               	and     0x3F
     782   01:413E  B1                  	or      c
     783   01:413F  4F                  	ld      c,a                 ; Primary slot value with main slot in page 3
     784   01:4140                      
     785   01:4140  78                  	ld      a,b
     786   01:4141  E6 0C               	and     0x0C
     787   01:4143  0F                  	rrca
     788   01:4144  0F                  	rrca
     789   01:4145  E6 03               	and     3
     790   01:4147  47                  	ld      b,a                 ; B = Expanded slot in page 3
     791   01:4148  79                  	ld      a,c
     792   01:4149  D3 A8               	out     (0A8h),a            ; Slot : Main Slot, xx, xx, Main slot
     793   01:414B  3A FF FF            	ld      a,(0FFFFh)
     794   01:414E  2F                  	cpl
     795   01:414F  E6 FC               	and     0xFC
     796   01:4151  B0                  	or      b
     797   01:4152  32 FF FF            	ld      (0FFFFh),a          ; Expanded slot selected
     798   01:4155                      
     799   01:4155                      1:
     800   01:4155  7A                  	ld      a,d             ; A = Final value
     801   01:4156  D3 A8               	out     (0A8h),a		; Slot Final. Ram, rom c, rom c, Main
     802   01:4158  C9                  	ret
     803   01:4159                      
     804   01:4159                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     805   01:4159                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     806   01:4159                      ; ROM initialisation
     807   01:4159                      
     808   01:4159                      initmain:
     809   01:4159                      
     810   01:4159  CD F3 40            	call    rominit     ; now the first 32KB of the rom are active
     811   01:415C                      
     812   01:415C  1E 02               	ld  e,2
     813   01:415E  CD 1B 40            	call _scr			; screen 2
     814   01:4161                      
     815   01:4161                      	setVdp 7,0x00
     815   01:4161  F3                >  di
     815   01:4162                    >  _setVdp register,value
     815   01:4162  3E 00             >  ld  a,value
     815   01:4164  D3 99             >  out (0x99),a
     815   01:4166  3E 87             >  ld  a,register + 0x80
     815   01:4168  D3 99             >  out (0x99),a
     815   01:416A  FB                >  ei
     816   01:416B                      
     817   01:416B  21 00 00            	ld  hl,0
     818   01:416E  22 02 D8            	ld  (xmap),hl
     819   01:4171  22 05 D8            	ld  (ymap),hl
     820   01:4174  3E 00               	ld  a,0
     821   01:4176  32 01 D8            	ld  (dxmap),a
     822   01:4179  32 04 D8            	ld  (dymap),a
     823   01:417C                      
     824   01:417C                      
     825   01:417C  CD 1B 41            	call	setrompage0		; 48K of rom are active - bios is excluded
     826   01:417F                      
     827   01:417F  CD 28 40            	call    vraminit
     828   01:4182                      
     829   01:4182  CD 0B 04            	call	levelinit
     830   01:4185                      
     831   01:4185  21 87 42            	ld  hl,test_sat
     832   01:4188  11 09 D8            	ld  de,ram_sat
     833   01:418B  01 80 00            	ld  bc,128
     834   01:418E  ED B0               	ldir
     835   01:4190                      
     836   01:4190  3E 80               	ld  a,32*4
     837   01:4192  32 07 D8            	ld  (visible_sprts),a
     838   01:4195                      
     839   01:4195  AF                  	xor	a
     840   01:4196  32 08 D8            	ld  (reverse_sat),a
     841   01:4199                      
     842   01:4199  06 80               	ld  b,32*4
     843   01:419B  0E 98               	ld  c,0x98
     844   01:419D  21 09 D8            	ld  hl,ram_sat
     845   01:41A0                      	_setvdpwvram 0x1b00
     845   01:41A0                    >  if (value & 0xFF)
     845   01:41A0                    ~   ld  a,value & 0xFF
     845   01:41A0                    ~  else
     845   01:41A0  AF                >   xor a
     845   01:41A1                    >  endif
     845   01:41A1  D3 99             >  out (0x99),a
     845   01:41A3  3E 5B             >  ld  a,0x40 + (value/256)
     845   01:41A5  D3 99             >  out (0x99),a
     846   01:41A7  ED A3               1:  outi
     847   01:41A9  C2 A7 41            	jp  nz,1b
     848   01:41AC                      
     849   01:41AC  FB                  	ei
     850   01:41AD                      
     851   01:41AD                      
     852   01:41AD                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     853   01:41AD                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     854   01:41AD                      ;
     855   01:41AD                      ;   main loop
     856   01:41AD                      ;
     857   01:41AD                      
     858   01:41AD                      
     859   01:41AD                      main_loop:
     860   01:41AD                      
     861   01:41AD                      	; x speed control
     862   01:41AD  1E 08               	ld  e,8
     863   01:41AF  CD 10 40            	call    checkkbd
     864   01:41B2                      
     865   01:41B2  7D                  	ld  a,l
     866   01:41B3  E6 80               	and 0x80    ; right
     867   01:41B5  20 0B               	jr  nz,1f
     868   01:41B7  3A 01 D8            	ld  a,(dxmap)
     869   01:41BA  FE 08               	cp  maxspeed        ; MAX SPEED
     870   01:41BC  28 04               	jr  z,1f
     871   01:41BE  3C                  	inc a
     872   01:41BF  32 01 D8            	ld  (dxmap),a
     873   01:41C2                      1:
     874   01:41C2  7D                  	ld  a,l
     875   01:41C3  E6 10               	and 0x10    ; left
     876   01:41C5  20 0B               	jr  nz,1f
     877   01:41C7  3A 01 D8            	ld  a,(dxmap)
     878   01:41CA  FE F8               	cp  -maxspeed       ; MAX SPEED
     879   01:41CC  28 04               	jr  z,1f
     880   01:41CE  3D                  	dec a
     881   01:41CF  32 01 D8            	ld  (dxmap),a
     882   01:41D2                      1:
     883   01:41D2                      	; y position
     884   01:41D2  7D                  	ld  a,l
     885   01:41D3  E6 20               	and 0x20    ; up
     886   01:41D5  20 0B               	jr  nz,1f
     887   01:41D7  3A 04 D8            	ld  a,(dymap)
     888   01:41DA  FE F8               	cp  -maxspeed        ; MAX SPEED
     889   01:41DC  28 04               	jr  z,1f
     890   01:41DE  3D                  	dec a
     891   01:41DF  32 04 D8            	ld  (dymap),a
     892   01:41E2                      1:
     893   01:41E2  7D                  	ld  a,l
     894   01:41E3  E6 40               	and 0x40    ; down
     895   01:41E5  20 0B               	jr  nz,1f
     896   01:41E7  3A 04 D8            	ld  a,(dymap)
     897   01:41EA  FE 08               	cp  maxspeed       ; MAX SPEED
     898   01:41EC  28 04               	jr  z,1f
     899   01:41EE  3C                  	inc a
     900   01:41EF  32 04 D8            	ld  (dymap),a
     901   01:41F2                      1:
     902   01:41F2                      
     903   01:41F2                      
     904   01:41F2                      	; wait refresh and update map position
     905   01:41F2                      
     906   01:41F2  76                  	halt
     907   01:41F3  2A 02 D8            	ld  hl,(xmap)
     908   01:41F6  3A 01 D8            	ld  a,(dxmap)
     909   01:41F9  CB 2F               	sra a
     910   01:41FB  CB 2F               	sra a
     911   01:41FD  5F                  	ld  e,a
     912   01:41FE  87                  	add a,a
     913   01:41FF  9F                  	sbc a,a
     914   01:4200  57                  	ld  d,a
     915   01:4201  19                  	add hl,de
     916   01:4202  22 02 D8            	ld  (xmap),hl
     917   01:4205                      
     918   01:4205  2A 05 D8            	ld  hl,(ymap)
     919   01:4208  3A 04 D8            	ld  a,(dymap)
     920   01:420B  CB 2F               	sra a
     921   01:420D  CB 2F               	sra a
     922   01:420F  5F                  	ld  e,a
     923   01:4210  87                  	add a,a
     924   01:4211  9F                  	sbc a,a
     925   01:4212  57                  	ld  d,a
     926   01:4213  19                  	add hl,de
     927   01:4214  22 05 D8            	ld  (ymap),hl
     928   01:4217                      
     929   01:4217                      	; Test map limits
     930   01:4217                      
     931   01:4217  2A 02 D8            	ld  hl,(xmap)
     932   01:421A  11 00 01            	ld  de,8*(LvlWidth)-256
     933   01:421D  A7                  	and a
     934   01:421E  ED 52               	sbc hl,de
     935   01:4220  F2 3E 42            	jp  p,xendmapr   	; stop right
     936   01:4223                      
     937   01:4223  A7                  	and a
     938   01:4224  ED 5A               	adc hl,de
     939   01:4226  FA 4B 42            	jp  m,xendmapl		; stop left
     940   01:4229                      testy:
     941   01:4229  2A 05 D8            	ld  hl,(ymap)
     942   01:422C  11 80 01            	ld  de,8*(LvlHigh)-128
     943   01:422F  A7                  	and a
     944   01:4230  ED 52               	sbc hl,de
     945   01:4232  F2 58 42            	jp  p,yendmapd   	; stop down
     946   01:4235                      
     947   01:4235  A7                  	and a
     948   01:4236  ED 5A               	adc hl,de
     949   01:4238  FA 65 42            	jp  m,yendmapl		; stop up
     950   01:423B                      
     951   01:423B  C3 AD 41            	jp  main_loop
     952   01:423E                      
     953   01:423E                      xendmapr:
     954   01:423E  21 00 01            	ld  hl,8*(LvlWidth)-256
     955   01:4241  22 02 D8            	ld  (xmap),hl
     956   01:4244  AF                  	xor a
     957   01:4245  32 01 D8            	ld	(dxmap),a
     958   01:4248  C3 29 42            	jp  testy
     959   01:424B                      xendmapl:
     960   01:424B  21 00 00            	ld  hl,0
     961   01:424E  22 02 D8            	ld  (xmap),hl
     962   01:4251  AF                  	xor a
     963   01:4252  32 01 D8            	ld	(dxmap),a
     964   01:4255  C3 29 42            	jp  testy
     965   01:4258                      yendmapd:
     966   01:4258  21 80 01            	ld  hl,8*(LvlHigh)-128
     967   01:425B  22 05 D8            	ld  (ymap),hl
     968   01:425E  AF                  	xor a
     969   01:425F  32 04 D8            	ld	(dymap),a
     970   01:4262  C3 AD 41            	jp  main_loop
     971   01:4265                      yendmapl:
     972   01:4265  21 00 00            	ld  hl,0
     973   01:4268  22 05 D8            	ld  (ymap),hl
     974   01:426B  AF                  	xor a
     975   01:426C  32 04 D8            	ld	(dymap),a
     976   01:426F  C3 AD 41            	jp  main_loop
     977   01:4272                      
     978   01:4272                      
     979   01:4272                      
     980   01:4272                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     981   01:4272                      ;   all sprites in the score bar
     982   01:4272                      
     983   01:4272                      
     984   01:4272                      	; place the score bar
     985   01:4272                      scorebar_sat:
     986   01:4272                      	repeat  4
     987   01:4272                    < 	db  48
     988   01:4272                    < 	db  @# * 16
     989   01:4272                    < 	db  32*4
     990   01:4272                    < 	db  0
     991   01:4272                    < 	endrepeat
     991   01:4272  30 00 80 00 30 10 80 00 30 20 80 00 30 30 80 00 
     992   01:4282                      
     993   01:4282  3E                  	db  48+14
     994   01:4283  40                  	db  4*16
     995   01:4284  80                  	db  32*4
     996   01:4285  00                  	db  0
     997   01:4286                      
     998   01:4286  D0                  	db	0xD0
     999   01:4287                      test_sat
    1000   01:4287                      	repeat  8
    1001   01:4287                    < 	repeat  4
    1002   01:4287                    < 	db  64+16*(@@#)
    1003   01:4287                    < 	db  64 + @# * 32
    1004   01:4287                    < 	db  32*4
    1005   01:4287                    < 	db  15
    1006   01:4287                    < 	endrepeat
    1007   01:4287                    < 	endrepeat
    1007   01:4287  40 40 80 0F 40 60 80 0F 40 80 80 0F 40 A0 80 0F 
    1007   01:4297  50 40 80 0F 50 60 80 0F 50 80 80 0F 50 A0 80 0F 
    1007   01:42A7  60 40 80 0F 60 60 80 0F 60 80 80 0F 60 A0 80 0F 
    1007   01:42B7  70 40 80 0F 70 60 80 0F 70 80 80 0F 70 A0 80 0F 
    1007   01:42C7  80 40 80 0F 80 60 80 0F 80 80 80 0F 80 A0 80 0F 
    1007   01:42D7  90 40 80 0F 90 60 80 0F 90 80 80 0F 90 A0 80 0F 
    1007   01:42E7  A0 40 80 0F A0 60 80 0F A0 80 80 0F A0 A0 80 0F 
    1007   01:42F7  B0 40 80 0F B0 60 80 0F B0 80 80 0F B0 A0 80 0F 
    1008   01:4307                      
    1009   01:4307                      
    1010   01:4307                      
    1011   01:4307                      ; *** PNT data in rom ***
    1012   01:4307                      
    1013   01:4307                      	code
    1014   01:4307  (0CF9)              	ALIGN 0x01000
    1015   01:5000                      
    1016   01:5000                      meta_pnt_table:
    1017   01:5000  (1000)              	incbin metavec48.bin
    1018   01:6000                      
    1019   01:6000                      meta_pnt:
    1020   01:6000  (1000)              	incbin metamap48.bin
    1021   01:7000                      
    1022   01:7000                      
    1023   01:7000                      ; *** tile set data in rom ***
    1024   01:7000                      	code
    1025   01:7000                      chr_tileset0:
    1026   01:7000  (0800)              	incbin "testpat0.bin",7,256*8
    1027   01:7800                      chr_tileset1:
    1028   01:7800  (0800)              	incbin "testpat1.bin",7,256*8
    1029   01:8000                      
    1030   01:8000                      clr_tileset0:
    1031   01:8000  (0800)              	incbin "testcol0.bin",7,256*8
    1032   01:8800                      clr_tileset1:
    1033   01:8800  (0800)              	incbin "testcol1.bin",7,256*8
    1034   01:9000                      
    1035   01:9000                      	code
    1036   01:9000                      test_spt:
    1037   01:9000                      	include uridium.asm
       1.  01:9000                      uridium:
       2.  01:9000                      uridium_0: 
       3.  01:9000                          defb 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
       3.  01:9000  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
       3.  01:9010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
       4.  01:9020                      
       5.  01:9020                      uridium_1: 
       6.  01:9020                          defb 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
       6.  01:9020  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
       6.  01:9030  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
       7.  01:9040                      
       8.  01:9040                      uridium_2: 
       9.  01:9040                          defb 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
       9.  01:9040  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
       9.  01:9050  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      10.  01:9060                      
      11.  01:9060                      uridium_3: 
      12.  01:9060                          defb 0x01,0x01,0x31,0x39,0x1C,0x0B,0x07,0xF7,0xF7,0x06,0x0B,0x1C,0x39,0x31,0x01,0x01,0x80,0x80,0x8C,0x9C,0x38,0xD0,0xE0,0xAF,0xAF,0x60,0xD0,0x38,0x9C,0x8C,0x80,0x80
      12.  01:9060  01 01 31 39 1C 0B 07 F7 F7 06 0B 1C 39 31 01 01 
      12.  01:9070  80 80 8C 9C 38 D0 E0 AF AF 60 D0 38 9C 8C 80 80 
      13.  01:9080                      
      14.  01:9080                      uridium_4: 
      15.  01:9080                          defb 0x00,0x00,0x00,0x01,0x00,0x01,0x03,0x17,0x03,0x01,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xD0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00
      15.  01:9080  00 00 00 01 00 01 03 17 03 01 00 01 00 00 00 00 
      15.  01:9090  00 00 00 00 00 00 80 D0 80 00 00 00 00 00 00 00 
      16.  01:90A0                      
      17.  01:90A0                      uridium_5: 
      18.  01:90A0                          defb 0x00,0x00,0x00,0x00,0x08,0x01,0x03,0x07,0x03,0x01,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x80,0xC0,0x80,0x00,0x20,0x00,0x00,0x00,0x00,0x00
      18.  01:90A0  00 00 00 00 08 01 03 07 03 01 08 00 00 00 00 00 
      18.  01:90B0  00 00 00 00 20 00 80 C0 80 00 20 00 00 00 00 00 
      19.  01:90C0                      
      20.  01:90C0                      uridium_6: 
      21.  01:90C0                          defb 0x03,0x02,0x07,0x07,0x0F,0x0F,0x7F,0xFF,0x80,0x7F,0x00,0x0F,0x07,0x07,0x03,0x03,0xFF,0x06,0xEC,0xD8,0xB0,0xE0,0xFE,0xFF,0x01,0xFE,0x00,0xB0,0xD8,0xEC,0xF6,0xFF
      21.  01:90C0  03 02 07 07 0F 0F 7F FF 80 7F 00 0F 07 07 03 03 
      21.  01:90D0  FF 06 EC D8 B0 E0 FE FF 01 FE 00 B0 D8 EC F6 FF 
      22.  01:90E0                      
      23.  01:90E0                      uridium_7: 
      24.  01:90E0                          defb 0xFF,0x60,0x3F,0x1F,0x0F,0x07,0x7F,0xFF,0x80,0x7F,0x00,0x0F,0x1F,0x3F,0x7F,0xFF,0xC0,0x40,0x60,0xA0,0xB0,0xF0,0xFE,0xFF,0x01,0xFE,0x00,0xB0,0xA0,0x60,0x40,0xC0
      24.  01:90E0  FF 60 3F 1F 0F 07 7F FF 80 7F 00 0F 1F 3F 7F FF 
      24.  01:90F0  C0 40 60 A0 B0 F0 FE FF 01 FE 00 B0 A0 60 40 C0 
      25.  01:9100                      
      26.  01:9100                      uridium_8: 
      27.  01:9100                          defb 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x2D,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1E,0xFF,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00
      27.  01:9100  00 00 00 00 00 00 00 2D 00 00 00 00 00 00 00 00 
      27.  01:9110  00 00 00 00 00 00 1E FF 1E 00 00 00 00 00 00 00 
      28.  01:9120                      
      29.  01:9120                      uridium_9: 
      30.  01:9120                          defb 0x00,0x00,0x00,0xB7,0x00,0x00,0x00,0x2D,0x00,0x00,0x00,0xB7,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0xFC,0x78,0x00,0x1E,0xFF,0x1E,0x00,0x78,0xFC,0x78,0x00,0x00,0x00
      30.  01:9120  00 00 00 B7 00 00 00 2D 00 00 00 B7 00 00 00 00 
      30.  01:9130  00 00 78 FC 78 00 1E FF 1E 00 78 FC 78 00 00 00 
      31.  01:9140                      
      32.  01:9140                      uridium_10: 
      33.  01:9140                          defb 0x00,0x00,0x1E,0x3F,0x1E,0x00,0x78,0xFF,0x78,0x00,0x1E,0x3F,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0xED,0x00,0x00,0x00,0xB4,0x00,0x00,0x00,0xED,0x00,0x00,0x00,0x00
      33.  01:9140  00 00 1E 3F 1E 00 78 FF 78 00 1E 3F 1E 00 00 00 
      33.  01:9150  00 00 00 ED 00 00 00 B4 00 00 00 ED 00 00 00 00 
      34.  01:9160                      
      35.  01:9160                      uridium_11: 
      36.  01:9160                          defb 0x00,0x00,0x00,0x00,0x00,0x00,0x78,0xFF,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xB4,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
      36.  01:9160  00 00 00 00 00 00 78 FF 78 00 00 00 00 00 00 00 
      36.  01:9170  00 00 00 00 00 00 00 B4 00 00 00 00 00 00 00 00 
      37.  01:9180                      
      38.  01:9180                      uridium_12: 
      39.  01:9180                          defb 0x07,0x18,0x20,0x5F,0x47,0x87,0x87,0x87,0x87,0x87,0x47,0x5F,0x20,0x18,0x07,0x00,0xC0,0x30,0x08,0xC4,0xC4,0xC2,0xC2,0xC2,0xC2,0xC2,0xC4,0xF4,0x08,0x30,0xC0,0x00
      39.  01:9180  07 18 20 5F 47 87 87 87 87 87 47 5F 20 18 07 00 
      39.  01:9190  C0 30 08 C4 C4 C2 C2 C2 C2 C2 C4 F4 08 30 C0 00 
      40.  01:91A0                      
      41.  01:91A0                      uridium_13: 
      42.  01:91A0                          defb 0x07,0x18,0x20,0x4F,0x5E,0x9E,0x80,0x8F,0x9E,0x9E,0x5E,0x5F,0x20,0x18,0x07,0x00,0xC0,0x30,0x08,0xE4,0xF4,0xF2,0xF2,0xE2,0x02,0xF2,0xF4,0xF4,0x08,0x30,0xC0,0x00
      42.  01:91A0  07 18 20 4F 5E 9E 80 8F 9E 9E 5E 5F 20 18 07 00 
      42.  01:91B0  C0 30 08 E4 F4 F2 F2 E2 02 F2 F4 F4 08 30 C0 00 
      43.  01:91C0                      
      44.  01:91C0                      uridium_14: 
      45.  01:91C0                          defb 0x07,0x18,0x20,0x4F,0x5E,0x9E,0x80,0x8F,0x80,0x9E,0x5E,0x4F,0x20,0x18,0x07,0x00,0xC0,0x30,0x08,0xE4,0xF4,0xF2,0xF2,0xE2,0xF2,0xF2,0xF4,0xE4,0x08,0x30,0xC0,0x00
      45.  01:91C0  07 18 20 4F 5E 9E 80 8F 80 9E 5E 4F 20 18 07 00 
      45.  01:91D0  C0 30 08 E4 F4 F2 F2 E2 F2 F2 F4 E4 08 30 C0 00 
      46.  01:91E0                      
      47.  01:91E0                      uridium_15: 
      48.  01:91E0                          defb 0x07,0x18,0x20,0x5E,0x5E,0x9E,0x9E,0x9E,0x9F,0x80,0x40,0x40,0x20,0x18,0x07,0x00,0xC0,0x30,0x08,0xF4,0xF4,0xF2,0xF2,0xF2,0xF2,0xF2,0xF4,0xF4,0x08,0x30,0xC0,0x00
      48.  01:91E0  07 18 20 5E 5E 9E 9E 9E 9F 80 40 40 20 18 07 00 
      48.  01:91F0  C0 30 08 F4 F4 F2 F2 F2 F2 F2 F4 F4 08 30 C0 00 
      49.  01:9200                      
      50.  01:9200                      uridium_16: 
      51.  01:9200                          defb 0x00,0x3F,0x01,0x00,0x00,0x0E,0x18,0x37,0x37,0x10,0x0E,0x00,0x00,0x01,0x3F,0x00,0x00,0xC0,0x20,0xD0,0x68,0x34,0x1E,0x92,0xDA,0x1E,0x00,0x68,0xD0,0xA0,0xC0,0x00
      51.  01:9200  00 3F 01 00 00 0E 18 37 37 10 0E 00 00 01 3F 00 
      51.  01:9210  00 C0 20 D0 68 34 1E 92 DA 1E 00 68 D0 A0 C0 00 
      52.  01:9220                      
      53.  01:9220                      uridium_17: 
      54.  01:9220                          defb 0x00,0x03,0x04,0x0B,0x16,0x2C,0x78,0x49,0x5B,0x78,0x00,0x16,0x0B,0x05,0x03,0x00,0x00,0xFC,0x80,0x00,0x00,0x70,0x18,0xEC,0xEC,0x08,0x70,0x00,0x00,0x80,0xFC,0x00
      54.  01:9220  00 03 04 0B 16 2C 78 49 5B 78 00 16 0B 05 03 00 
      54.  01:9230  00 FC 80 00 00 70 18 EC EC 08 70 00 00 80 FC 00 
      55.  01:9240                      
      56.  01:9240                      uridium_18: 
      57.  01:9240                          defb 0x25,0x12,0x09,0x04,0x04,0x02,0x02,0x02,0x02,0x02,0x04,0x04,0x09,0x12,0x25,0x00,0x60,0xB0,0x58,0xAC,0xAC,0x56,0x56,0x56,0x56,0x56,0xAC,0xAC,0x58,0xB0,0x60,0x00
      57.  01:9240  25 12 09 04 04 02 02 02 02 02 04 04 09 12 25 00 
      57.  01:9250  60 B0 58 AC AC 56 56 56 56 56 AC AC 58 B0 60 00 
      58.  01:9260                      
      59.  01:9260                      uridium_19: 
      60.  01:9260                          defb 0x06,0x0D,0x1A,0x35,0x35,0x6A,0x6A,0x6A,0x6A,0x6A,0x35,0x35,0x1A,0x0D,0x06,0x00,0xA4,0x48,0x90,0x20,0x20,0x40,0x40,0x40,0x40,0x40,0x20,0x20,0x90,0x48,0xA4,0x00
      60.  01:9260  06 0D 1A 35 35 6A 6A 6A 6A 6A 35 35 1A 0D 06 00 
      60.  01:9270  A4 48 90 20 20 40 40 40 40 40 20 20 90 48 A4 00 
      61.  01:9280                      
      62.  01:9280                      uridium_20: 
      63.  01:9280                          defb 0x7F,0xEA,0xAA,0xAA,0xAA,0xAA,0xBE,0xFE,0x86,0x63,0x31,0x19,0x0D,0x07,0x03,0x01,0xFC,0xAE,0xAA,0xAA,0xAA,0xAA,0xFA,0xFE,0xC2,0x8C,0x18,0x30,0x60,0xC0,0x80,0x00
      63.  01:9280  7F EA AA AA AA AA BE FE 86 63 31 19 0D 07 03 01 
      63.  01:9290  FC AE AA AA AA AA FA FE C2 8C 18 30 60 C0 80 00 
      64.  01:92A0                      
      65.  01:92A0                      uridium_21: 
      66.  01:92A0                          defb 0x00,0x7F,0xC1,0xFF,0x83,0xFF,0x83,0xFF,0x80,0xFF,0x83,0xFF,0x83,0xFF,0xC1,0x7F,0x00,0x80,0x40,0x60,0x30,0x18,0x8C,0xC6,0x7F,0xC6,0x8C,0x18,0x30,0x60,0x40,0x80
      66.  01:92A0  00 7F C1 FF 83 FF 83 FF 80 FF 83 FF 83 FF C1 7F 
      66.  01:92B0  00 80 40 60 30 18 8C C6 7F C6 8C 18 30 60 40 80 
      67.  01:92C0                      
      68.  01:92C0                      uridium_22: 
      69.  01:92C0                          defb 0x00,0x01,0x03,0x06,0x0C,0x18,0x31,0x43,0x7F,0x5F,0x55,0x55,0x55,0x55,0x75,0x3F,0x80,0xC0,0xE0,0xB0,0x98,0x8C,0xC6,0x61,0x7F,0x7D,0x55,0x55,0x55,0x55,0x57,0xFE
      69.  01:92C0  00 01 03 06 0C 18 31 43 7F 5F 55 55 55 55 75 3F 
      69.  01:92D0  80 C0 E0 B0 98 8C C6 61 7F 7D 55 55 55 55 57 FE 
      70.  01:92E0                      
      71.  01:92E0                      uridium_23: 
      72.  01:92E0                          defb 0x01,0x02,0x06,0x0C,0x18,0x31,0x63,0xFE,0x63,0x31,0x18,0x0C,0x06,0x02,0x01,0x00,0xFE,0x83,0xFF,0xC1,0xFF,0xC1,0xFF,0x01,0xFF,0xC1,0xFF,0xC1,0xFF,0x83,0xFE,0x00
      72.  01:92E0  01 02 06 0C 18 31 63 FE 63 31 18 0C 06 02 01 00 
      72.  01:92F0  FE 83 FF C1 FF C1 FF 01 FF C1 FF C1 FF 83 FE 00 
      73.  01:9300                      
      74.  01:9300                      uridium_24: 
      75.  01:9300                          defb 0x00,0x07,0x1F,0x3F,0x7F,0x71,0xC4,0x8C,0x8D,0x0E,0x0D,0x0B,0x00,0x00,0x00,0x01,0x00,0xC2,0xF4,0xF8,0xF4,0xEC,0x5E,0xBE,0x3E,0x1E,0xDE,0x9C,0x3C,0x38,0x70,0xC0
      75.  01:9300  00 07 1F 3F 7F 71 C4 8C 8D 0E 0D 0B 00 00 00 01 
      75.  01:9310  00 C2 F4 F8 F4 EC 5E BE 3E 1E DE 9C 3C 38 70 C0 
      76.  01:9320                      
      77.  01:9320                      uridium_25: 
      78.  01:9320                          defb 0x01,0x01,0x07,0x1F,0x3F,0x7F,0x7F,0xFD,0xF1,0xE1,0xE9,0xCD,0x4F,0x47,0x23,0x01,0x00,0x00,0x40,0x70,0x78,0x7C,0x7C,0x7E,0x1E,0x0E,0x2E,0x66,0x64,0x44,0x08,0x00
      78.  01:9320  01 01 07 1F 3F 7F 7F FD F1 E1 E9 CD 4F 47 23 01 
      78.  01:9330  00 00 40 70 78 7C 7C 7E 1E 0E 2E 66 64 44 08 00 
      79.  01:9340                      
      80.  01:9340                      uridium_26: 
      81.  01:9340                          defb 0x00,0x43,0x2F,0x1F,0x2F,0x37,0x7A,0x7D,0x7C,0x78,0x7B,0x39,0x3C,0x1C,0x0E,0x03,0x00,0xE0,0xF8,0xFC,0xFE,0x8E,0x23,0x31,0xB1,0x70,0xB0,0xD0,0x00,0x00,0x00,0x80
      81.  01:9340  00 43 2F 1F 2F 37 7A 7D 7C 78 7B 39 3C 1C 0E 03 
      81.  01:9350  00 E0 F8 FC FE 8E 23 31 B1 70 B0 D0 00 00 00 80 
      82.  01:9360                      
      83.  01:9360                      uridium_27: 
      84.  01:9360                          defb 0x00,0x01,0x07,0x0F,0x1F,0x1F,0x3F,0x3E,0xFF,0x00,0x3F,0x1F,0x1F,0x0F,0x07,0x01,0x00,0xF0,0xFC,0xE2,0x80,0x38,0x1C,0x0E,0xFF,0x00,0x1C,0x38,0x80,0xE2,0xFC,0xF0
      84.  01:9360  00 01 07 0F 1F 1F 3F 3E FF 00 3F 1F 1F 0F 07 01 
      84.  01:9370  00 F0 FC E2 80 38 1C 0E FF 00 1C 38 80 E2 FC F0 
      85.  01:9380                      
      86.  01:9380                      uridium_28: 
      87.  01:9380                          defb 0x03,0x0E,0x1C,0x3C,0x39,0x7B,0x78,0x7C,0x7D,0x7E,0x3D,0x3B,0x17,0x2F,0x43,0x00,0x80,0x00,0x00,0x00,0xF0,0xE0,0x50,0xB1,0x31,0x23,0x8E,0xFE,0xFC,0xF8,0xE0,0x00
      87.  01:9380  03 0E 1C 3C 39 7B 78 7C 7D 7E 3D 3B 17 2F 43 00 
      87.  01:9390  80 00 00 00 F0 E0 50 B1 31 23 8E FE FC F8 E0 00 
      88.  01:93A0                      
      89.  01:93A0                      uridium_29: 
      90.  01:93A0                          defb 0x00,0x11,0x23,0x27,0x66,0x74,0x70,0x78,0x7E,0x3F,0x3F,0x1F,0x0F,0x03,0x00,0x00,0x80,0x84,0xA2,0xB2,0xB3,0x97,0x87,0x8F,0xBF,0xBE,0xBE,0xBC,0xB8,0xA0,0x80,0x80
      90.  01:93A0  00 11 23 27 66 74 70 78 7E 3F 3F 1F 0F 03 00 00 
      90.  01:93B0  80 84 A2 B2 B3 97 87 8F BF BE BE BC B8 A0 80 80 
      91.  01:93C0                      
      92.  01:93C0                      uridium_30: 
      93.  01:93C0                          defb 0x01,0x00,0x00,0x00,0x0F,0x07,0x0A,0x8D,0x8C,0xC4,0x71,0x7F,0x3F,0x1F,0x07,0x00,0xC0,0x70,0x38,0x3C,0x9C,0xDE,0x1E,0x3E,0xBE,0x7E,0xBC,0xDC,0xE8,0xF4,0xC2,0x00
      93.  01:93C0  01 00 00 00 0F 07 0A 8D 8C C4 71 7F 3F 1F 07 00 
      93.  01:93D0  C0 70 38 3C 9C DE 1E 3E BE 7E BC DC E8 F4 C2 00 
      94.  01:93E0                      
      95.  01:93E0                      uridium_31: 
      96.  01:93E0                          defb 0x0F,0x3F,0x47,0x01,0x1C,0x38,0x70,0xFF,0x00,0x38,0x1C,0x01,0x47,0x3F,0x0F,0x00,0x80,0xE0,0xF0,0xF8,0xF8,0xFC,0x7C,0xFF,0x00,0xFC,0xF8,0xF8,0xF0,0xE0,0x80,0x00
      96.  01:93E0  0F 3F 47 01 1C 38 70 FF 00 38 1C 01 47 3F 0F 00 
      96.  01:93F0  80 E0 F0 F8 F8 FC 7C FF 00 FC F8 F8 F0 E0 80 00 
      97.  01:9400                      
      98.  01:9400                      uridium_32: 
      99.  01:9400                          defb 0xFF,0xFF,0xFF,0xE0,0xEE,0xE2,0xFB,0xE2,0xEE,0xE8,0xEF,0xE0,0xFF,0xFF,0xFF,0x00,0xFE,0xFE,0xFE,0x2E,0xEE,0x2E,0xAE,0x8E,0xEE,0x2E,0xBE,0x8E,0xFE,0xFE,0xFE,0x00
      99.  01:9400  FF FF FF E0 EE E2 FB E2 EE E8 EF E0 FF FF FF 00 
      99.  01:9410  FE FE FE 2E EE 2E AE 8E EE 2E BE 8E FE FE FE 00 
     100.  01:9420                      
     101.  01:9420                      uridium_33: 
     102.  01:9420                          defb 0xFF,0xFF,0xFF,0xE8,0xEE,0xE0,0xEF,0xE2,0xFB,0xE8,0xEA,0xE2,0xFF,0xFF,0xFF,0x00,0xFE,0xFE,0xFE,0x2E,0xEE,0x0E,0xBE,0x2E,0xAE,0x8E,0xEE,0x2E,0xFE,0xFE,0xFE,0x00
     102.  01:9420  FF FF FF E8 EE E0 EF E2 FB E8 EA E2 FF FF FF 00 
     102.  01:9430  FE FE FE 2E EE 0E BE 2E AE 8E EE 2E FE FE FE 00 
     103.  01:9440                      
     104.  01:9440                      uridium_34: 
     105.  01:9440                          defb 0xFF,0xFF,0xFF,0xE0,0xEE,0xEA,0xFB,0xE8,0xEB,0xE2,0xFA,0xE2,0xFF,0xFF,0xFF,0x00,0xFE,0xFE,0xFE,0x8E,0xBE,0x0E,0xBE,0x0E,0xBE,0x2E,0xAE,0x8E,0xFE,0xFE,0xFE,0x00
     105.  01:9440  FF FF FF E0 EE EA FB E8 EB E2 FA E2 FF FF FF 00 
     105.  01:9450  FE FE FE 8E BE 0E BE 0E BE 2E AE 8E FE FE FE 00 
     106.  01:9460                      
     107.  01:9460                      uridium_35: 
     108.  01:9460                          defb 0xFF,0xFF,0xFF,0xE2,0xFA,0xE0,0xEE,0xE8,0xFB,0xE0,0xEE,0xE2,0xFF,0xFF,0xFF,0x00,0xFE,0xFE,0xFE,0x8E,0xAE,0xAE,0xBE,0x0E,0xEE,0x2E,0xBE,0x8E,0xFE,0xFE,0xFE,0x00
     108.  01:9460  FF FF FF E2 FA E0 EE E8 FB E0 EE E2 FF FF FF 00 
     108.  01:9470  FE FE FE 8E AE AE BE 0E EE 2E BE 8E FE FE FE 00 
     109.  01:9480                      
     110.  01:9480                      uridium_36: 
     111.  01:9480                          defb 0x00,0x00,0x00,0x00,0x03,0x0F,0xFF,0x00,0x2A,0xFF,0x00,0x03,0x00,0x00,0x00,0x00,0x03,0x0F,0x3F,0xFF,0xFF,0xFF,0xFF,0x00,0xAA,0xFF,0x00,0xFF,0xFF,0x3F,0x0F,0x03
     111.  01:9480  00 00 00 00 03 0F FF 00 2A FF 00 03 00 00 00 00 
     111.  01:9490  03 0F 3F FF FF FF FF 00 AA FF 00 FF FF 3F 0F 03 
     112.  01:94A0                      
     113.  01:94A0                      uridium_37: 
     114.  01:94A0                          defb 0xC0,0xF0,0xFC,0xFF,0xFF,0xFF,0xFF,0x00,0x55,0xFF,0x00,0xFF,0xFF,0xFC,0xF0,0xC0,0x00,0x00,0x00,0x00,0xC0,0xF0,0xFF,0x00,0x54,0xFF,0x00,0xC0,0x00,0x00,0x00,0x00
     114.  01:94A0  C0 F0 FC FF FF FF FF 00 55 FF 00 FF FF FC F0 C0 
     114.  01:94B0  00 00 00 00 C0 F0 FF 00 54 FF 00 C0 00 00 00 00 
     115.  01:94C0                      
     116.  01:94C0                      uridium_38: 
     117.  01:94C0                          defb 0x00,0x00,0x0D,0x0B,0x07,0x0F,0x1E,0xFF,0x00,0x0F,0x07,0x0B,0x0D,0x00,0x00,0x00,0x78,0xF8,0xF8,0xF8,0xF8,0x7E,0xC3,0xFD,0xFF,0x7E,0x80,0xF8,0xF8,0xF8,0x78,0x00
     117.  01:94C0  00 00 0D 0B 07 0F 1E FF 00 0F 07 0B 0D 00 00 00 
     117.  01:94D0  78 F8 F8 F8 F8 7E C3 FD FF 7E 80 F8 F8 F8 78 00 
     118.  01:94E0                      
     119.  01:94E0                      uridium_39: 
     120.  01:94E0                          defb 0x1E,0x1F,0x1F,0x1F,0x1F,0x7E,0xC3,0xBF,0xFF,0x7E,0x01,0x1F,0x1F,0x1F,0x1E,0x00,0x00,0x00,0xB0,0xD0,0xE0,0xF0,0x78,0xFF,0x00,0xF0,0xE0,0xD0,0xB0,0x00,0x00,0x00
     120.  01:94E0  1E 1F 1F 1F 1F 7E C3 BF FF 7E 01 1F 1F 1F 1E 00 
     120.  01:94F0  00 00 B0 D0 E0 F0 78 FF 00 F0 E0 D0 B0 00 00 00 
     121.  01:9500                      
     122.  01:9500                      uridium_40: 
     123.  01:9500                          defb 0x07,0x18,0x20,0x40,0x40,0x80,0x80,0x80,0x80,0x80,0x40,0x40,0x20,0x18,0x07,0x00,0xC0,0x30,0x08,0x04,0x04,0x02,0x02,0x02,0x02,0x02,0x04,0x04,0x08,0x30,0xC0,0x00
     123.  01:9500  07 18 20 40 40 80 80 80 80 80 40 40 20 18 07 00 
     123.  01:9510  C0 30 08 04 04 02 02 02 02 02 04 04 08 30 C0 00 
     124.  01:9520                      
     125.  01:9520                      uridium_41: 
     126.  01:9520                          defb 0x00,0x02,0x0A,0x2A,0x2A,0x2A,0xAA,0xAA,0xAA,0xAA,0xAA,0x2A,0x2A,0x2A,0x0A,0x02,0x00,0x80,0xA0,0xA8,0xA8,0xA8,0xAA,0xAA,0xAA,0xAA,0xAA,0xA8,0xA8,0xA8,0xA0,0x80
     126.  01:9520  00 02 0A 2A 2A 2A AA AA AA AA AA 2A 2A 2A 0A 02 
     126.  01:9530  00 80 A0 A8 A8 A8 AA AA AA AA AA A8 A8 A8 A0 80 
     127.  01:9540                      
     128.  01:9540                      uridium_42: 
     129.  01:9540                          defb 0x07,0x1F,0x3F,0x7F,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x7F,0x3F,0x1F,0x07,0xE0,0xF8,0xFC,0xFE,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,0xFC,0xF8,0xE0
     129.  01:9540  07 1F 3F 7F 7F FF FF FF FF FF FF 7F 7F 3F 1F 07 
     129.  01:9550  E0 F8 FC FE FE FF FF FF FF FF FF FE FE FC F8 E0 
     130.  01:9560                      
     131.  01:9560                      uridium_43: 
     132.  01:9560                          defb 0x00,0x00,0x00,0x01,0x07,0x0F,0x0F,0x1F,0x1F,0x0F,0x0F,0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xF0,0xF0,0xF8,0xF8,0xF0,0xF0,0xE0,0x80,0x00,0x00,0x00
     132.  01:9560  00 00 00 01 07 0F 0F 1F 1F 0F 0F 07 01 00 00 00 
     132.  01:9570  00 00 00 80 E0 F0 F0 F8 F8 F0 F0 E0 80 00 00 00 
     133.  01:9580                      
     134.  01:9580                      uridium_44: 
     135.  01:9580                          defb 0x38,0x46,0xBF,0xFF,0xFF,0x7F,0x3F,0x0F,0x07,0x07,0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0xE0,0xE0,0xF0,0xFC,0xFA,0xFD,0xFF,0xFF,0x7E,0x1C
     135.  01:9580  38 46 BF FF FF 7F 3F 0F 07 07 03 03 01 00 00 00 
     135.  01:9590  00 00 00 80 C0 C0 E0 E0 F0 FC FA FD FF FF 7E 1C 
     136.  01:95A0                      
     137.  01:95A0                      uridium_45: 
     138.  01:95A0                          defb 0x00,0x00,0x00,0x00,0x60,0xF0,0xF8,0xF8,0xFC,0xFF,0xFE,0x7F,0x7F,0x3F,0x1F,0x07,0x00,0x00,0x00,0x00,0x06,0x0B,0x17,0x17,0x2F,0xDF,0x3F,0xFE,0xFE,0xFC,0xF8,0xE0
     138.  01:95A0  00 00 00 00 60 F0 F8 F8 FC FF FE 7F 7F 3F 1F 07 
     138.  01:95B0  00 00 00 00 06 0B 17 17 2F DF 3F FE FE FC F8 E0 
     139.  01:95C0                      
     140.  01:95C0                      uridium_46: 
     141.  01:95C0                          defb 0x07,0x1F,0x3F,0x7F,0x7F,0xFE,0xFF,0xFC,0xF8,0xF8,0xF0,0x60,0x00,0x00,0x00,0x00,0xE0,0xF8,0xFC,0xFE,0xFE,0x3F,0xDF,0x2F,0x17,0x17,0x0B,0x06,0x00,0x00,0x00,0x00
     141.  01:95C0  07 1F 3F 7F 7F FE FF FC F8 F8 F0 60 00 00 00 00 
     141.  01:95D0  E0 F8 FC FE FE 3F DF 2F 17 17 0B 06 00 00 00 00 
     142.  01:95E0                      
     143.  01:95E0                      uridium_47: 
     144.  01:95E0                          defb 0x00,0x00,0x00,0x01,0x03,0x03,0x07,0x07,0x0F,0x3F,0x7F,0xFF,0xFF,0xBF,0x46,0x38,0x1C,0x7E,0xFF,0xFF,0xFD,0xFA,0xFC,0xF0,0xE0,0xE0,0xC0,0xC0,0x80,0x00,0x00,0x00
     144.  01:95E0  00 00 00 01 03 03 07 07 0F 3F 7F FF FF BF 46 38 
     144.  01:95F0  1C 7E FF FF FD FA FC F0 E0 E0 C0 C0 80 00 00 00 
     145.  01:9600                      
     146.  01:9600                      uridium_48: 
     147.  01:9600                          defb 0x1F,0xFF,0x00,0x00,0x00,0x00,0x03,0x1F,0x03,0x00,0x00,0x00,0x01,0xFF,0x1F,0x00,0xFE,0xFC,0x00,0x90,0x48,0xFE,0xFF,0xFF,0x87,0xFE,0x00,0x90,0x20,0xFC,0xFE,0x00
     147.  01:9600  1F FF 00 00 00 00 03 1F 03 00 00 00 01 FF 1F 00 
     147.  01:9610  FE FC 00 90 48 FE FF FF 87 FE 00 90 20 FC FE 00 
     148.  01:9620                      
     149.  01:9620                      uridium_49: 
     150.  01:9620                          defb 0x00,0x1F,0xFF,0x00,0x00,0x00,0x03,0x1F,0x03,0x00,0x00,0x00,0xFF,0x1F,0x00,0x00,0x00,0xFE,0xFC,0x00,0x48,0xFE,0xFF,0xFF,0x87,0xFE,0x00,0x90,0xFC,0xFE,0x00,0x00
     150.  01:9620  00 1F FF 00 00 00 03 1F 03 00 00 00 FF 1F 00 00 
     150.  01:9630  00 FE FC 00 48 FE FF FF 87 FE 00 90 FC FE 00 00 
     151.  01:9640                      
     152.  01:9640                      uridium_50: 
     153.  01:9640                          defb 0x00,0x00,0x00,0x1F,0xFF,0x00,0x03,0x1F,0x03,0x00,0xFF,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFC,0x3E,0xFF,0xFF,0x87,0xFE,0xFC,0xFE,0x00,0x00,0x00,0x00
     153.  01:9640  00 00 00 1F FF 00 03 1F 03 00 FF 1F 00 00 00 00 
     153.  01:9650  00 00 00 FE FC 3E FF FF 87 FE FC FE 00 00 00 00 
     154.  01:9660                      
     155.  01:9660                      uridium_51: 
     156.  01:9660                          defb 0x00,0x00,0x00,0x00,0x00,0x1F,0xFF,0x03,0xFF,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFF,0xFF,0x87,0xFE,0x00,0x00,0x00,0x00,0x00,0x00
     156.  01:9660  00 00 00 00 00 1F FF 03 FF 1F 00 00 00 00 00 00 
     156.  01:9670  00 00 00 00 00 FE FF FF 87 FE 00 00 00 00 00 00 
     157.  01:9680                      
     158.  01:9680                      uridium_52: 
     159.  01:9680                          defb 0x00,0x00,0x00,0x00,0x00,0x7F,0xFF,0xFF,0xE1,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0xFF,0xC0,0xFF,0xF8,0x00,0x00,0x00,0x00,0x00,0x00
     159.  01:9680  00 00 00 00 00 7F FF FF E1 7F 00 00 00 00 00 00 
     159.  01:9690  00 00 00 00 00 F8 FF C0 FF F8 00 00 00 00 00 00 
     160.  01:96A0                      
     161.  01:96A0                      uridium_53: 
     162.  01:96A0                          defb 0x00,0x00,0x00,0x7F,0x3F,0x7C,0xFF,0xFF,0xE1,0x7F,0x3F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0xFF,0x00,0xC0,0xF8,0xC0,0x00,0xFF,0xF8,0x00,0x00,0x00,0x00
     162.  01:96A0  00 00 00 7F 3F 7C FF FF E1 7F 3F 7F 00 00 00 00 
     162.  01:96B0  00 00 00 F8 FF 00 C0 F8 C0 00 FF F8 00 00 00 00 
     163.  01:96C0                      
     164.  01:96C0                      uridium_54: 
     165.  01:96C0                          defb 0x00,0x7F,0x3F,0x00,0x12,0x7F,0xFF,0xFF,0xE1,0x7F,0x00,0x09,0x3F,0x7F,0x00,0x00,0x00,0xF8,0xFF,0x00,0x00,0x00,0xC0,0xF8,0xC0,0x00,0x00,0x00,0xFF,0xF8,0x00,0x00
     165.  01:96C0  00 7F 3F 00 12 7F FF FF E1 7F 00 09 3F 7F 00 00 
     165.  01:96D0  00 F8 FF 00 00 00 C0 F8 C0 00 00 00 FF F8 00 00 
     166.  01:96E0                      
     167.  01:96E0                      uridium_55: 
     168.  01:96E0                          defb 0x7F,0x3F,0x00,0x09,0x12,0x7F,0xFF,0xFF,0xE1,0x7F,0x00,0x09,0x04,0x3F,0x7F,0x00,0xF8,0xFF,0x00,0x00,0x00,0x00,0xC0,0xF8,0xC0,0x00,0x00,0x00,0x80,0xFF,0xF8,0x00
     168.  01:96E0  7F 3F 00 09 12 7F FF FF E1 7F 00 09 04 3F 7F 00 
     168.  01:96F0  F8 FF 00 00 00 00 C0 F8 C0 00 00 00 80 FF F8 00 
     169.  01:9700                      
     170.  01:9700                      uridium_56: 
     171.  01:9700                          defb 0x00,0x00,0x00,0x03,0x0F,0x0F,0x1F,0x1F,0x1F,0x0F,0x0E,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xE0,0xF0,0xD0,0xD0,0xA0,0x60,0x80,0x00,0x00,0x00,0x00
     171.  01:9700  00 00 00 03 0F 0F 1F 1F 1F 0F 0E 03 00 00 00 00 
     171.  01:9710  00 00 00 80 E0 E0 F0 D0 D0 A0 60 80 00 00 00 00 
     172.  01:9720                      
     173.  01:9720                      uridium_57: 
     174.  01:9720                          defb 0x00,0x00,0x03,0x0F,0x1F,0x1F,0x3F,0x3F,0x3F,0x3F,0x1F,0x1F,0x0E,0x03,0x00,0x00,0x00,0x00,0xC0,0xF0,0xF8,0xF8,0xFC,0xF4,0xF4,0xEC,0xE8,0x98,0x70,0xC0,0x00,0x00
     174.  01:9720  00 00 03 0F 1F 1F 3F 3F 3F 3F 1F 1F 0E 03 00 00 
     174.  01:9730  00 00 C0 F0 F8 F8 FC F4 F4 EC E8 98 70 C0 00 00 
     175.  01:9740                      
     176.  01:9740                      uridium_58: 
     177.  01:9740                          defb 0x00,0x03,0x0F,0x1F,0x3F,0x3F,0x7F,0x7F,0x7F,0x7F,0x3F,0x3F,0x1F,0x0E,0x03,0x00,0x00,0xC0,0xF0,0xF8,0xFC,0xFC,0xFE,0xFA,0xFA,0xF6,0xF4,0xEC,0x98,0x70,0xC0,0x00
     177.  01:9740  00 03 0F 1F 3F 3F 7F 7F 7F 7F 3F 3F 1F 0E 03 00 
     177.  01:9750  00 C0 F0 F8 FC FC FE FA FA F6 F4 EC 98 70 C0 00 
     178.  01:9760                      
     179.  01:9760                      uridium_59: 
     180.  01:9760                          defb 0x07,0x1F,0x3F,0x7F,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x7F,0x3F,0x1E,0x07,0xE0,0xF8,0xFC,0xFE,0xFE,0xFF,0xFF,0xFD,0xFD,0xFD,0xFB,0xFA,0xF6,0xCC,0x38,0xE0
     180.  01:9760  07 1F 3F 7F 7F FF FF FF FF FF FF 7F 7F 3F 1E 07 
     180.  01:9770  E0 F8 FC FE FE FF FF FD FD FD FB FA F6 CC 38 E0 
     181.  01:9780                      
     182.  01:9780                      uridium_60: 
     183.  01:9780                          defb 0x07,0x1F,0x3D,0x7F,0x7D,0x81,0xFF,0x00,0xFF,0x81,0x7D,0x7F,0x3D,0x1F,0x07,0x00,0xE0,0xF8,0xBC,0xFE,0xBE,0x81,0xFF,0x00,0xFF,0x81,0xBE,0xFE,0xBC,0xF8,0xE0,0x00
     183.  01:9780  07 1F 3D 7F 7D 81 FF 00 FF 81 7D 7F 3D 1F 07 00 
     183.  01:9790  E0 F8 BC FE BE 81 FF 00 FF 81 BE FE BC F8 E0 00 
     184.  01:97A0                      
     185.  01:97A0                      uridium_61: 
     186.  01:97A0                          defb 0x07,0x1F,0x2F,0x73,0x1C,0x07,0x01,0x00,0x01,0x07,0x1C,0x73,0x2F,0x1F,0x07,0x00,0xE0,0xF8,0xBC,0xEE,0x78,0xE7,0x9D,0x73,0xCF,0x5F,0x7E,0xEE,0xBC,0xF8,0xE0,0x00
     186.  01:97A0  07 1F 2F 73 1C 07 01 00 01 07 1C 73 2F 1F 07 00 
     186.  01:97B0  E0 F8 BC EE 78 E7 9D 73 CF 5F 7E EE BC F8 E0 00 
     187.  01:97C0                      
     188.  01:97C0                      uridium_62: 
     189.  01:97C0                          defb 0x07,0x1F,0x3B,0x0D,0x06,0x03,0x01,0x00,0x01,0x03,0x06,0x0D,0x3B,0x1F,0x07,0x00,0xE0,0xF0,0xF4,0xEE,0xDA,0xB7,0x6F,0xDF,0xEF,0x7F,0xBA,0xFE,0xEC,0xF8,0xE0,0x00
     189.  01:97C0  07 1F 3B 0D 06 03 01 00 01 03 06 0D 3B 1F 07 00 
     189.  01:97D0  E0 F0 F4 EE DA B7 6F DF EF 7F BA FE EC F8 E0 00 
     190.  01:97E0                      
     191.  01:97E0                      uridium_63: 
     192.  01:97E0                          defb 0x0F,0x06,0x02,0x03,0x01,0x01,0x01,0x00,0x00,0x01,0x01,0x03,0x02,0x06,0x0F,0x00,0xC0,0xD8,0xDC,0xB6,0xAE,0x6F,0x5F,0xCF,0xFB,0x9F,0x76,0x7E,0xFC,0xF8,0xE0,0x00
     192.  01:97E0  0F 06 02 03 01 01 01 00 00 01 01 03 02 06 0F 00 
     192.  01:97F0  C0 D8 DC B6 AE 6F 5F CF FB 9F 76 7E FC F8 E0 00 
     193.  01:9800                      
    1038   01:9800                      scorebar:
    1039   01:9800  (0400)              	incbin tileset.bin
    1040   01:9C00                      
    1041   01:9C00                      ; *** RAM ***
    1042   01:9C00                      
    1043   01:9C00  (C000)              	map  0C000h
    1044   01:9C00                      
    1045   01:9C00  (01:C000)           level_buffer:	#6*1024
    1046   01:9C00                      
    1047   01:9C00  (01:D800)           slotvar         #1
    1048   01:9C00                      
    1049   01:9C00  (01:D801)           dxmap           #1
    1050   01:9C00  (01:D802)           xmap            #2
    1051   01:9C00  (01:D804)           dymap           #1
    1052   01:9C00  (01:D805)           ymap            #2
    1053   01:9C00                      
    1054   01:9C00                      
    1055   01:9C00  (01:D807)           visible_sprts   #1
    1056   01:9C00  (01:D808)           reverse_sat     #1
    1057   01:9C00                      
    1058   01:9C00  (01:D809)           ram_sat         #128
    1059   01:9C00                      
    1060   01:9C00                      
    1061   01:9C00  (0000)              	endmap

    LABELS
-------------------------------------------------
00:00000098 X page1
00:0000009E   page0
00:0000E000   mom_map_bits_rom
00:0000E148   mom_offset_table
00:000000C1 X mom_depack_rom
00:000000D7   mom_init_bits_rom
00:000000E0   mom_node_rom
00:000000F3   mom_set_bit_rom
00:00000100   mom_wait_step_rom
00:00000108   mom_lit_copy_rom
00:0000010A   mom_main_loop_rom
00:00000111   mom_get_index_rom
00:0000012C   mom_out_range_rom
00:0000012F   mom_go_for_it_rom
00:00000146   mom_get_pair_rom
00:00000158   mom_get_bits_rom
00:0000015B   mom_getting_bits_rom
00:00000167   mom_get_bit_rom
00:0000016F   mom_byte_done_rom
00:00000172   _plot_pnt
00:000001B5 X _plot_pnt.slow_loop
00:00000260   _plot_pnt.fast_loop
00:0000030B   disp_page1
00:0000031C   disp_page0
00:0000032D X _sat_update
00:00000338 X _directsat
00:0000035B   _reverse_sat
00:00000386 X long2ascii
00:000003F7   NUM1
00:0000040B   levelinit
01:000000A9   i8255portb
01:000000AA   i8255portc
01:00004010   checkkbd
01:00000040   LvlWidth
01:00000040   LvlHigh
01:00000008   maxspeed
01:0000001D X max_enem
01:0000F3DF   _vdpReg
01:0000F3AE X LINL40
01:0000401B   _scr
01:00004028   vraminit
01:000040C7   write_256
01:00000024   ENASLT
01:00000138   RSLREG
01:0000FCC1   EXPTBL
01:000040F3   rominit
01:000040F3 X search_slotset
01:000040FA   search_slot
01:0000411B   setrompage0
01:00004120 X recbios
01:00004123   setslotpage0
01:00004159   initmain
01:000041AD   main_loop
01:00004229   testy
01:0000423E   xendmapr
01:0000424B   xendmapl
01:00004258   yendmapd
01:00004265   yendmapl
01:00004272   scorebar_sat
01:00004287   test_sat
01:00005000   meta_pnt_table
01:00006000   meta_pnt
01:00007000   chr_tileset0
01:00007800   chr_tileset1
01:00008000   clr_tileset0
01:00008800   clr_tileset1
01:00009000   test_spt
01:00009000 X uridium
01:00009000 X uridium_0
01:00009020 X uridium_1
01:00009040 X uridium_2
01:00009060 X uridium_3
01:00009080 X uridium_4
01:000090A0 X uridium_5
01:000090C0 X uridium_6
01:000090E0 X uridium_7
01:00009100 X uridium_8
01:00009120 X uridium_9
01:00009140 X uridium_10
01:00009160 X uridium_11
01:00009180 X uridium_12
01:000091A0 X uridium_13
01:000091C0 X uridium_14
01:000091E0 X uridium_15
01:00009200 X uridium_16
01:00009220 X uridium_17
01:00009240 X uridium_18
01:00009260 X uridium_19
01:00009280 X uridium_20
01:000092A0 X uridium_21
01:000092C0 X uridium_22
01:000092E0 X uridium_23
01:00009300 X uridium_24
01:00009320 X uridium_25
01:00009340 X uridium_26
01:00009360 X uridium_27
01:00009380 X uridium_28
01:000093A0 X uridium_29
01:000093C0 X uridium_30
01:000093E0 X uridium_31
01:00009400 X uridium_32
01:00009420 X uridium_33
01:00009440 X uridium_34
01:00009460 X uridium_35
01:00009480 X uridium_36
01:000094A0 X uridium_37
01:000094C0 X uridium_38
01:000094E0 X uridium_39
01:00009500 X uridium_40
01:00009520 X uridium_41
01:00009540 X uridium_42
01:00009560 X uridium_43
01:00009580 X uridium_44
01:000095A0 X uridium_45
01:000095C0 X uridium_46
01:000095E0 X uridium_47
01:00009600 X uridium_48
01:00009620 X uridium_49
01:00009640 X uridium_50
01:00009660 X uridium_51
01:00009680 X uridium_52
01:000096A0 X uridium_53
01:000096C0 X uridium_54
01:000096E0 X uridium_55
01:00009700 X uridium_56
01:00009720 X uridium_57
01:00009740 X uridium_58
01:00009760 X uridium_59
01:00009780 X uridium_60
01:000097A0 X uridium_61
01:000097C0 X uridium_62
01:000097E0 X uridium_63
01:00009800   scorebar
01:0000C000   level_buffer
01:0000D800   slotvar
01:0000D801   dxmap
01:0000D802   xmap
01:0000D804   dymap
01:0000D805   ymap
01:0000D807   visible_sprts
01:0000D808   reverse_sat
01:0000D809   ram_sat


 Output: src\main48.out
-------------------------------------------------

 Page: 00
  Org: 00004000  Size: *  Used: 00000000

    No output

 Output: Scrll8way.rom
-------------------------------------------------

 Page: 00
  Org: 00000000  Size: 00004000  Used: 00000424

   Address   Length Align   Label
   00000000      56       <empty>
   00000038    1004     @   page1
   00000424   15324       <empty>

 Page: 01
  Org: 00004000  Size: 00008000  Used: 00005C00

   Address   Length Align   Label
   00004000     775     @   checkkbd
   00004307   11513         meta_pnt_table
   00007000    8192         chr_tileset0
   00009000    3072         test_spt
   00009C00    9216       <empty>
